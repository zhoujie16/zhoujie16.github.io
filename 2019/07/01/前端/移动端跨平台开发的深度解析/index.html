<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>移动端跨平台开发的深度解析 | 周小米的博客</title><meta name="author" content="周小米"><meta name="copyright" content="周小米"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="移动端跨平台开发的深度解析 跨平台一直是老生常谈的话题，cordova、ionic、react-native、weex、kotlin-native、flutter等跨平台框架的百花齐放，颇有一股推倒原生开发者的势头。（事实上更多是共存发展）看完本篇，相信你会对于当下跨平台移动开发的现状、实现原理、框架的选择等有更深入的理解。  全篇内容较多，需耐心食用！ (&#x2F;&#x2F;&#x2F;▽&#x2F;&#x2F;&#x2F;)  一、前言 为什么我们">
<meta property="og:type" content="article">
<meta property="og:title" content="移动端跨平台开发的深度解析">
<meta property="og:url" content="http://example.com/2019/07/01/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E7%9A%84%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/index.html">
<meta property="og:site_name" content="周小米的博客">
<meta property="og:description" content="移动端跨平台开发的深度解析 跨平台一直是老生常谈的话题，cordova、ionic、react-native、weex、kotlin-native、flutter等跨平台框架的百花齐放，颇有一股推倒原生开发者的势头。（事实上更多是共存发展）看完本篇，相信你会对于当下跨平台移动开发的现状、实现原理、框架的选择等有更深入的理解。  全篇内容较多，需耐心食用！ (&#x2F;&#x2F;&#x2F;▽&#x2F;&#x2F;&#x2F;)  一、前言 为什么我们">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg">
<meta property="article:published_time" content="2019-07-01T07:50:02.000Z">
<meta property="article:modified_time" content="2021-02-09T09:54:14.759Z">
<meta property="article:author" content="周小米">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2019/07/01/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E7%9A%84%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-02-09 17:54:14'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://gitee.com/zz16/upic/raw/master/2020/04/1586355398747.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">90</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-music"></i><span> 图库</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">周小米的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-music"></i><span> 图库</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">移动端跨平台开发的深度解析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2019-07-01T07:50:02.000Z" title="undefined 2019-07-01 15:50:02">2019-07-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="移动端跨平台开发的深度解析"><a href="#移动端跨平台开发的深度解析" class="headerlink" title="移动端跨平台开发的深度解析"></a>移动端跨平台开发的深度解析</h1><p> <em>跨平台一直是老生常谈的话题，cordova、ionic、react-native、weex、kotlin-native、flutter等跨平台框架的百花齐放，颇有一股推倒原生开发者的势头。（事实上更多是共存发展）看完本篇，相信你会对于当下跨平台移动开发的现状、实现原理、框架的选择等有更深入的理解</em>。</p>
<blockquote>
<p><strong>全篇内容较多，需耐心食用！</strong> (///▽///)</p>
</blockquote>
<h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h2><p> <em>为什么我们需要跨平台开发？</em> 本质上，跨平台开发是为了增加代码复用，减少开发者对多个平台差异适配的工作量，降低开发成本，提高业务专注的同时，提供比web更好的体验。嗯～通俗了说就是：<em>省钱、偷懒</em>。</p>
<p> 本篇主要以react-native、weex、flutter，结合资讯展望，深入聊聊当前跨平台移动开发的实现原理、现状与未来。至于为什么只讲它们，因为对比ionic、phoneGap，它们更于 “naive” (˶‾᷄ ⁻̫ ‾᷅˵)。</p>
<blockquote>
<p>超完整跨平台开源项目</p>
</blockquote>
<table>
<thead>
<tr>
<th>类型</th>
<th>链接</th>
</tr>
</thead>
<tbody><tr>
<td>react-native</td>
<td><a href="https://link.juejin.im/?target=https://github.com/CarGuo/GSYGithubApp">github.com/CarGuo/GSYG…</a></td>
</tr>
<tr>
<td>weex</td>
<td><a href="https://link.juejin.im/?target=https://github.com/CarGuo/GSYGithubAppWeex">github.com/CarGuo/GSYG…</a></td>
</tr>
<tr>
<td>Flutter</td>
<td><a href="https://link.juejin.im/?target=https://github.com/CarGuo/GSYGithubAppFlutter">github.com/CarGuo/GSYG…</a></td>
</tr>
</tbody></table>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kelo81mqj30xc0j9jso.jpg" alt="百花齐放"></p>
<p> </p>
<h2 id="二、原理与特性"><a href="#二、原理与特性" class="headerlink" title="二、原理与特性"></a>二、原理与特性</h2><p>目前移动端跨平台开发中，大致归纳为以下几种情况：</p>
<ul>
<li><code>react native</code>、<code>weex</code>均使用JavaScript作为编程语言，目前JavaScript在跨平台开发中，可谓占据半壁江山，大有“一统天下”的趋势。</li>
<li><code>kotlin-native</code>开始支持 iOS 和 Web 开发，（kotlin已经成为android的一级语言）也想尝试“一统天下”。</li>
<li><code>flutter</code>是Google跨平台移动UI框架，Dart作为谷歌的亲儿子，毫无疑问Dart成为flutter的编程语言，如下图，作为巨头新生儿，在flutter官网也可以看出，flutter同样“心怀天下”。</li>
</ul>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kem0dx8aj30go0830tf.jpg" alt="flutter 官网野心勃勃"></p>
<p> </p>
<h3 id="1、React-Native"><a href="#1、React-Native" class="headerlink" title="1、React Native"></a>1、React Native</h3><blockquote>
<p>Facebook 出品，JavaScript语言，JSCore引擎，React设计模式，原生渲染</p>
</blockquote>
<h4 id="1-1、理念架构"><a href="#1-1、理念架构" class="headerlink" title="1.1、理念架构"></a>1.1、理念架构</h4><p> <code>“Learn once, write anywhere”</code> ，代表着 Facebook对 react native 的定义：学习 react ，同时掌握 <code>web</code> 与 <code>app</code> 两种开发技能。 react native 用了 react 的设计模式，但UI渲染、动画效果、网络请求等均由原生端实现。开发者编写的js代码，通过 react native 的中间层转化为原生控件和操作，比<code>ionic</code>等跨平台应用，大大提高了的用户体验。</p>
<p> <strong>总结起来其实就是利用 JS 来调用 Native 端的组件，从而实现相应的功能。</strong></p>
<p> 如下图所示，react native 的跨平台是实现主要由三层构成，其中 C++ 实现的动态连结库(.so)，作为中间适配层桥接，实现了js端与原生端的双向通信交互。这里最主要是封装了 <code>JavaScriptCore</code> 执行js的解析，而 react native 运行在JavaScriptCore中，所以不存在浏览器兼容的问题。</p>
<p> 其中在IOS上直接使用内置的<code>javascriptcore</code>， 在Android 则使用webkit.org官方开源的<code>jsc.so</code>。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kembuy5bj30p30l7n0c.jpg" alt="图片来源网络"></p>
<h4 id="1-2、实现原理"><a href="#1-2、实现原理" class="headerlink" title="1.2、实现原理"></a>1.2、实现原理</h4><p> 和前端开发不同，react native 所有的标签都不是真实控件，JS代码中所写控件的作用，类似 Map 中的 key 值。JS端通过这个 key 组合的 Dom ，最后Native端会解析这个 Dom ，得到对应的Native控件渲染，如 Android 中<code>&lt;view&gt;</code> 标签对应 <code>ViewGroup</code> 控件。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kembuy5bj30p30l7n0c.jpg" alt="图片来源网络"></p>
<p> 在 react native 中，JS端是运行在独立的线程中（称为JS Thread ）。JS Thread 作为单线程逻辑，不可能处理耗时的操作。那么如 <code>fetch</code> 、<code>图片加载</code> 、 <code>数据持久化</code> 等操作，在 Android 中实际对应的是 <code>okhttp</code> 、<code>Fresco</code> 、<code>SharedPreferences</code>等。而跨线程通信，也意味着 Js Thread 和原生之间交互与通讯是异步的。</p>
<p> 可以看出，跨平台的关键在于C++层，开发人员大部分时候，只专注于JS 端的代码实现。 在原生端提供的各种 Native Module 模块（如网络请求，ViewGroup控件），和 JS 端提供的各种 JS Module（如JS EventEmiter模块），都会在C++实现的so中保存起来，双方的通讯通过C++中的保存的映射，最终实现两端的交互。通信的数据和指令，在中间层会被转为String字符串传输，双向的调用流程如下图。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kemvvam1j30sw074dgt.jpg" alt="图片来源网络，js调用native"></p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kenn72z7j30k8073wf5.jpg" alt="图片来源网络，native调用js"></p>
<h4 id="1-3、打包加载"><a href="#1-3、打包加载" class="headerlink" title="1.3、打包加载"></a>1.3、打包加载</h4><p> 最终，JS代码会被打包成一个 bundle 文件，自动添加到 App 的资源目录下。react native 的打包脚本目录为<code>/node_modules/react-native/local-cli</code>，打包最后会通过 <code>metro</code> 模块压缩 bundle 文件。而bundle文件只会打包js代码，自然不会包含图片等静态资源，所以打包后的静态资源，其实是被拷贝到对应的平台资源文件夹中。</p>
<p> 其中图片等存在资源的映射规则，比如放在 react native 项目根目录下的 <code>img/pic/logo.png</code>的资源，编译时，会被重命名后，根据大小 merged 到对应的是drawable目录下，修改名称为<code>img_pic_logo.png</code>。</p>
<p> 打包Android和IOS，肯定需要相应的平台项目存在，在 <code>react-native init</code> 时创建的项目，就已经包含了 android 和 ios 的模版工程，打包完的工程会加载bundle文件，然后启动项目，如下图。这里就不展（tou）开（lan）了，有兴趣的可以看：<a href="https://link.juejin.im/?target=http://www.sohu.com/a/117911688_505885">React Native For Android 架构初探</a>。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kenyspq1j30sg0lcmzq.jpg" alt="图片来源QQ空间移动开发团队，完成启动流程图"></p>
<p>   </p>
<h3 id="2、WEEX"><a href="#2、WEEX" class="headerlink" title="2、WEEX"></a>2、WEEX</h3><blockquote>
<p>Alibaba 出品，JavaScript语言，JS V8引擎，Vue设计模式，原生渲染</p>
</blockquote>
<h4 id="2-1、理念架构"><a href="#2-1、理念架构" class="headerlink" title="2.1、理念架构"></a>2.1、理念架构</h4><p> <code>“Write once, run everywhere”</code>, weex的定义就像是：<strong>写个 vue 前端，顺便帮你编译成性能还不错的 apk 和 ipa</strong>（当然，现实有时很骨感）。基于 Vue 设计模式，支持 web、android、ios 三端，原生端同样通过中间层转化，将控件和操作转化为原生逻辑来提高用户体验。</p>
<p> 在 weex 中，主要包括三大部分：<strong>JS Bridge</strong>、<strong>Render</strong>、<strong>Dom</strong>，分别对应<code>WXBridgeManager</code>、<code>WXRenderManager</code>、<code>WXDomManager</code>，三部分通过<code>WXSDKManager</code>统一管理。其中 <strong>JS Bridge</strong> 和 <strong>Dom</strong> 都运行在独立的 HandlerThread 中，而 Render 运行在 UI 线程。</p>
<p> <strong>JS Bridge</strong> 主要用来和 JS 端实现进行双向通信，比如把 JS 端的 dom 结构传递给 <strong>Dom</strong> 线程。<strong>Dom</strong> 主要是用于负责 dom 的解析、映射、添加等等的操作，最后通知UI线程更新。而 <strong>Render</strong> 负责在UI线程中对 dom 实现渲染。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4keod2tiwj30jg0pkjt9.jpg" alt="图片来自网络"></p>
<h4 id="2-2、实现原理"><a href="#2-2、实现原理" class="headerlink" title="2.2、实现原理"></a>2.2、实现原理</h4><p> 和 react native一样，weex 所有的标签也不是真实控件，JS 代码中所生成存的 dom，最后都是由 Native 端解析，再得到对应的Native控件渲染，如 Android 中 <code>&lt;text&gt;</code> 标签对应 <code>WXTextView</code>控件。</p>
<p> weex 中文件默认为 .vue ，而 vue 文件是被无法直接运行的，所以 vue 会被编译成 .js 格式的文件，Weex SDK会负责加载渲染这个js文件。Weex可以做到跨三端的原理在于：<strong>在开发过程中，代码模式、编译过程、模板组件、数据绑定、生命周期等上层语法是一致的</strong>。不同的是在 <code>JS Framework</code> 层的最后，web 平台和 Native 平台，对 Virtual DOM 执行的解析方法是有区别的。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4keop6klyj30m80badg8.jpg" alt="img"></p>
<p> 实际上，在 Native 中对 bundle 文件的加载大致经历以下阶段：</p>
<ul>
<li>weex 接收到 js 文件以后，JS Framework 根据文件为 Vue 模式，会调用<code>weex-vue-framework</code> 中提供的 <code>createInstance</code>方法创建实例。*(也可能是Rax模式)*</li>
<li><code>createInstance</code> 中会执行 Js Entry 代码里 <code>new Vue()</code> 创建一个组件，通过其 render 函数创建出 Virtual DOM 节点。</li>
<li>由JS V8 引擎上解析 Virtual DOM ，得到 Json 数据发送至 Dom 线，这里输出 Json 也是方便跨端的数据传输。</li>
<li>Dom 线程解析 Json 数据，得到对应的 <code>WxDomObject</code>，然后创建对应的<code>WxComponent</code> 提交 Render 。</li>
<li>Render在原生端最终处理处理渲染任务，并回调里JS方法。</li>
</ul>
<p> 得益于上层的统一性，只是通过 <code>weex-vue-framework</code> 判断是由<code>Vue.js</code> 生成真实的 Dom ，还是通过 Native Api 渲染组件，weex 一定程度上上，用JS 实现了 <code>vue</code> 一统天下的效果。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4keoyl5g2j30hs0bsmy7.jpg" alt="图片来源网络"></p>
<p>  weex 在原生渲染 Render 时，在接收到渲染指令后，会逐步将数据渲染成原生组件。Render 通过解析渲染数据的描述，然后分发给不同的模块。</p>
<p>  比如 控件渲染属于 <code>dom</code> 模块中，页面跳转属于<code>navigator</code>模块等。模块的渲染过程并非一个执行完，再执行另一个的流程，而是类似流式的过程。如上一个 <code>&lt;text&gt;</code> 的组件还没渲染好，下一个 <code>&lt;div&gt;</code> 的渲染又发了过来。这样当一个组件的嵌套组件很多时，或者可以看到这个大组件内的UI，一个一个渲染出来的过程。</p>
<p> weex 比起react native，主要是在JS V8的引擎上，多了 <em>JS Framework</em> 承当了重要的职责，使得上层具备统一性，可以支持跨三个平台。总的来说它主要负责是：<strong>管理Weex的生命周期</strong>；<strong>解析JS Bundle，转为Virtual DOM，再通过所在平台不同的API方法，构建页面</strong>；<strong>进行双向的数据交互和响应</strong>。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kep84wwwj30yg09hwew.jpg" alt="img"></p>
<h4 id="2-3、打包"><a href="#2-3、打包" class="headerlink" title="2.3、打包"></a>2.3、打包</h4><p> weex 作为 react-native 之后出现的跨平台实现方案，自然可以站在前人的肩膀上优化问题，比如：<em>Bundle文件过大问题</em>。</p>
<p> Bundle文件的大小，很大程度上影响了框架的性能，而 weex 选择将 <code>JS Framework</code> 集成到 WeexSDK 中，一定程度减少了JS Bundle的体积，使得 bundle 里面只保留业务代码。</p>
<p> 打包时，weex 是通过 webpack 打包出 bundle 文件的。bundle 文件的打包和 <code>entry.js</code> 文件的配置数量有关，默认情况下之后一个 entry 文件，自然也就只有一个bundle文件。</p>
<p> 在 weex 项目的 <code>webpack.common.conf.js</code> 中可以看到，其实打包也是区分了 <code>webConfig</code> 和 <code>weexConfig</code> 的不同打包方式。如下图，其中weexEntry 就是 weex 打包配置的地方，可以看到本来已经有 <code>index</code> 和 <code>entry.js</code> 存在了。如果有需要，可配置上你需要的打包页面，具体这里就不详细展开了。有兴趣可看：<a href="https://link.juejin.im/?target=https://www.jianshu.com/p/ae1d7a2b0a8a">Weex原理之带你去蹲坑</a> 。</p>
<p><img src="http://pic1.zhoujie16.cn/20190725172608.png" alt="img"></p>
<p>   </p>
<h3 id="3、Flutter"><a href="#3、Flutter" class="headerlink" title="3、Flutter"></a>3、Flutter</h3><blockquote>
<p>Google 出品，Dart语言，Flutter Engine引擎，响应式设计模式，原生渲染</p>
</blockquote>
<p> Flutter 是谷歌2018年发布的跨平台移动UI框架。相较于本人已经在项目中使用过 react native 和 Weex，Flutter目前仅仅是简单运行过Demo，毕竟还是beta 阶段，这里更多的聊一下它的实现机制和效果。</p>
<p> 与 react native 和 weex 的通过 Javascript 开发不同，Flutter 的编程语言是Drat，（谷歌亲儿子，据说是因为 Drat 项目组就在 Flutter 隔壁而被选上(◐‿◑)﻿）所以执行时并不需要 Javascript 引擎，但实际效果最终也通过原生渲染。</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kepny32rj30mh0d63zq.jpg" alt="图片来源网络"></p>
<p> 如上图，Flutter 主要分为 <code>Framework</code> 和 <code>Engine</code>，我们基于Framework 开发App，运行在 Engine 上。Engine 是 Flutter 的独立虚拟机，由它适配和提供跨平台支持，目前猜测 Flutter 应用程序在 Android 上，是直接运行 Engine 上 所以在是不需要Dalvik虚拟机。（这是比kotlin更彻底，抛弃JVM的纠缠？）</p>
<p> 如下图，得益于 Engine 层，Flutter 甚至不使用移动平台的原生控件， 而是使用自己 Engine 来绘制 Widget （Flutter的显示单元），而 Dart 代码都是通过 AOT 编译为平台的原生代码，所以 Flutter 可以 直接与平台通信，不需要JS引擎的桥接。同时 Flutter 唯一要求系统提供的是 canvas，以实现UI的绘制。咦？这么想来，支持web端也没问题吧！</p>
<p><img src="http://pic1.zhoujie16.cn/006tNc79ly1g4kepvt069j30hg08gt9d.jpg" alt="图片来源网络"></p>
<p> 在Flutter中，大多数东西都是widget，而Widget是不可变的，仅支持一帧，并且在每一帧上不会直接更新，要更新而必须使用Widget的状态。无状态和有状态 widget 的核心特性是相同的，每一帧它们都会重新构建，有一个State对象，它可以跨帧存储状态数据并恢复它。</p>
<p> Flutter 上 Android 自带了 Skia，Skia是一个 2D的绘图引擎库，跨平台，所以可以被嵌入到 Flutter的 iOS SDK中，也使得 Flutter Android SDK要比 iOS SDK小很多。</p>
<h2 id="三、对比"><a href="#三、对比" class="headerlink" title="三、对比"></a>三、对比</h2><p> 这算是互相伤害的环节了吧。(///▽///)</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>React Native</th>
<th>Weex</th>
<th>Flutter</th>
</tr>
</thead>
<tbody><tr>
<td>平台实现</td>
<td>JavaScript</td>
<td>JavaScript</td>
<td>无桥接，原生编码</td>
</tr>
<tr>
<td>引擎</td>
<td>JSCore</td>
<td>JS V8</td>
<td>Flutter engine</td>
</tr>
<tr>
<td>核心语言</td>
<td>React</td>
<td>Vue</td>
<td>Dart</td>
</tr>
<tr>
<td>Apk大小 (Release)</td>
<td>7.6M</td>
<td>10.6M</td>
<td>8.1M</td>
</tr>
<tr>
<td>bundle文件大小</td>
<td>默认单一、较大</td>
<td>较小、多页面可多文件</td>
<td>不需要</td>
</tr>
<tr>
<td>上手难度</td>
<td>稍高？</td>
<td>容易</td>
<td>一般</td>
</tr>
<tr>
<td>框架程度</td>
<td>较重</td>
<td>较轻</td>
<td>重</td>
</tr>
<tr>
<td>特点(不局限)</td>
<td>适合开发整体App</td>
<td>适合单页面</td>
<td>适合开发整体App</td>
</tr>
<tr>
<td>社区</td>
<td>丰富，Facebook重点维护</td>
<td>有点残念，托管apache</td>
<td>刚刚出道小鲜肉，拥护者众多</td>
</tr>
<tr>
<td>支持</td>
<td>Android、IOS</td>
<td>Android、IOS、Web</td>
<td>Android、IOS（并不止？）</td>
</tr>
</tbody></table>
<h4 id="1、大小"><a href="#1、大小" class="headerlink" title="1、大小"></a>1、大小</h4><p> 上面Apk大小是通过 <code>react-native init</code>、<code>weex create</code> 和 flutter 创建出的工程后，直接不添加任何代码，打包出来的 release 签名 apk 大小。从下图可以看出，其中大比例都是在so库。</p>
<p><img src="http://pic1.zhoujie16.cn/20190725172717.png" alt="img"></p>
<h4 id="2、社群"><a href="#2、社群" class="headerlink" title="2、社群"></a>2、社群</h4><p> react native 作为 Facebook 主力开源项目之一，至今已有各类丰富的第三方库，甚至如 <code>realm</code>、<code>lottie</code> 等开源项目也有 react native 相关的版本，社群实际无需质疑。当然，因为并完全正统开发平台，第三库的健壮性和兼容性有时候总是良莠不齐。</p>
<p> weex 其实有种生错在国内的感觉。其实 weex 的设计和理念都很优秀，性能也不错，但是对比 react native 的第三方支持，就显得有点后妈养的。2016年开源至今，社区和各类文档都显得有点疲弱，作为跨平台开发人员，大多时候肯定不会希望，需要频繁的自己增加原生功能支持，因为这样的工作一多，反而会与跨平台开发的理念背道而驰，带来开发成本被维护难度增加。</p>
<p> Flutter目前还处理beta阶段，但是谷歌的号召力一直很可观，这一点无需质疑。</p>
<h4 id="3、性能"><a href="#3、性能" class="headerlink" title="3、性能"></a>3、性能</h4><p> 理论上 flutter 的性能应该是最好的，但是目前实际体验中，却并没有感受出来太大的差距，和 react native（0.5.0之后）、weex 在性能上个人体验差异不是很大。当然，这里并没有实测渲染的毫秒时间和帧率数据。</p>
<h4 id="4、其他区别"><a href="#4、其他区别" class="headerlink" title="4、其他区别"></a>4、其他区别</h4><ul>
<li>Weex的多页面实现问题</li>
</ul>
<blockquote>
<p> weex 在 native 端是不支持 <code>&lt;keep-alive&gt;</code> 的，这一点和 react-native 不同在与，如果在 native 需要实现页面跳转，使用 vue-router 将会惨不忍睹：返回后页面不做特别处理时，是会空白一片。参考官方Demo <a href="https://link.juejin.im/?target=https://github.com/apache/incubator-weex/tree/master/android/playground">playground</a>，native 端 的采用 <code>weex.requireModule(&#39;navigator&#39;)</code> 跳转 Activity 是才正确实现。</p>
</blockquote>
<blockquote>
<p> 同时，weex中 navigator 跳转的设计，也导致了多页面的页面间通讯的差异。weex在多页面下的数据通讯，是通过url实现的，比如<code>file://assets/dist/SecondPage.js?params=0</code>，而vuex和vue-router在跨页面是无法共用的；而 react native 在跨 Actvity 使用时，因为是同一个bundle文件，只要 manager 相同，那么 router 和 store 时可以照样使用的，数据通信方式也和当个 Actvity 没区别。</p>
</blockquote>
<ul>
<li>项目模板</li>
</ul>
<blockquote>
<p>  weex 和 react native 模板代码模式也不同。weex 的模板是从 cordova 模式修改过来的，根据platform需求，用命令添加固定模块，而在 .gitignore 对 <code>platforms</code> 文件夹是忽略跟踪。 react native 在项目创建时模版就存在了，特别是添加第三方插件原生端支持时，会直接修改模板代码，git代码中也会添加跟踪修改。</p>
</blockquote>
<h2 id="四、未来趋势"><a href="#四、未来趋势" class="headerlink" title="四、未来趋势"></a>四、未来趋势</h2><p>  我们选择框架的时候，很多时候会关注框架的成熟度和生命力不是么(◐‿◑)﻿。</p>
<h3 id="1、React-Native-1"><a href="#1、React-Native-1" class="headerlink" title="1、React Native"></a>1、React Native</h3><p>  <a href="https://link.juejin.im/?target=https://www.colabug.com/3238051.html">“Airbnb 宣布放弃使用 React Native，回归使用原生技术”</a> : Airbnb 作为 react native 平台上最大的支持者之一，其开源的<code>lottie</code> 同样是支持原生和 react native。</p>
<p> Airbnb 在宣布放弃的文中，也对 react native 的表示了很大量的肯定，而使得他们放弃的理由，其实主要还是集中于项目庞大之后的维护困难，第三方库的良莠不齐，兼容上需要耗费更多的精力导致放弃。</p>
<p>ps：<em>（ Lottie库Airbnb出的是一个能够帮助解析AE导出的包含动画信息的json文件。这很好的解决了一个矛盾，设计师可以更专注的设计出各种炫酷的动画效果，而开发只需要将其加入支持即可。）</em></p>
<p>  <a href="https://link.juejin.im/?target=https://www.oschina.net/news/97129/state-of-react-native-2018">Facebook 正在重构 React Native，将重写大量底层。</a>在经历了开源协议风波后，可以看出 Facebook 对于 react native 还是很看重的， 这些底层重构优化的地方，主要集中于：</p>
<blockquote>
<p> 首先，改变线程模型。UI 更新不再需要在三个不同的线程上执行，而是可以在任意线程上同步调用 JavaScript 进行优先更新，同时将低优先级工作推出主线程，以便保持对 UI 的响应。  其次，将异步渲染功能引入 React Native 中，允许执行多个渲染并简化异步数据处理。  最后，简化桥接，让它更快、更轻量。原生和 JavaScript 之间的直接调用效率更高，并且可以更轻松地构建调试工具，如跨语言堆栈跟踪。</p>
</blockquote>
<h3 id="2、Weex"><a href="#2、Weex" class="headerlink" title="2、Weex"></a>2、Weex</h3><p>  <a href="https://link.juejin.im/?target=https://blog.csdn.net/alitech2017/article/details/80133769">没有死！阿里公开Weex技术架构，还开源了一大波组件。</a> 2018年初的新闻可以看出，weex 的遭遇有点类似曾经的 <code>Duddo</code>（Dubbo因为内部竞争被阿里一度放弃维护），这波诈尸后 <code>weex</code> 被托管到了Apache，而github的 <a href="https://link.juejin.im/?target=https://github.com/weexteam">weexteam</a> 如今也还保持着更新，希望后续能有多好的发展，拭目以待吧。</p>
<h3 id="3、Flutter-1"><a href="#3、Flutter-1" class="headerlink" title="3、Flutter"></a>3、Flutter</h3><p> Flutter 是 Google 跨平台移动UI框架，Dart作为谷歌的亲儿子在 Flutter 中使用，并且谷歌新操作系统 Fuchsia 支持 Dart，使用 Flutter 作为操作UI框架。这些集合到一起难免让你怀疑 Android 是否要被谷歌抛弃的想法。</p>
<p> 或者如今先 Android 等平台上推广 Flutter 与 Dart，就是为了以后跟好的过渡到新系统上，毕竟开发者是操作系统的生命源泉之一。而 Java 与 JVM 或者可以被谷歌完全抛开。当然，目前看起来 Flutter 貌似还缺少一些语法糖，嵌套下来的代码有点不忍直视，或者到正式版之后，我们更能感受出它的美丽吧。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p> 内容有点长，其实很多点并没有细致的展开说明，但是通过本文，对于移动端跨平台的现状与未来，希望可能给你带来一点帮助。</p>
<h4 id="超完整跨平台开源项目"><a href="#超完整跨平台开源项目" class="headerlink" title="超完整跨平台开源项目"></a>超完整跨平台开源项目</h4><table>
<thead>
<tr>
<th>类型</th>
<th>链接</th>
</tr>
</thead>
<tbody><tr>
<td>react-native</td>
<td><a href="https://link.juejin.im/?target=https://github.com/CarGuo/GSYGithubApp">github.com/CarGuo/GSYG…</a></td>
</tr>
<tr>
<td>weex</td>
<td><a href="https://link.juejin.im/?target=https://github.com/CarGuo/GSYGithubAppWeex">github.com/CarGuo/GSYG…</a></td>
</tr>
<tr>
<td>Flutter</td>
<td><a href="https://link.juejin.im/?target=https://github.com/CarGuo/GSYGithubAppFlutter">github.com/CarGuo/GSYG…</a></td>
</tr>
<tr>
<td>Kotlin</td>
<td><a href="https://link.juejin.im/?target=https://github.com/CarGuo/GSYGithubAppKotlin">github.com/CarGuo/GSYG…</a></td>
</tr>
</tbody></table>
<p>本文转自：<a target="_blank" rel="noopener" href="https://juejin.im/post/5b395eb96fb9a00e556123ef">掘金@<strong>恋猫de小郭</strong></a></p>
</article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/07/16/mac%E6%8A%80%E5%B7%A7/Mac%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8homebrew/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Mac安装和使用homebrew</div></div></a></div><div class="next-post pull-right"><a href="/2019/07/01/%E5%89%8D%E7%AB%AF/%E6%8F%90%E5%8D%87%E7%BC%96%E7%A8%8B%E6%B0%B4%E5%B9%B3%E7%9A%84%E7%9B%B8%E5%85%B3%E7%BD%91%E7%AB%99/"><img class="next-cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">提升编程水平的相关网站</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://gitee.com/zz16/upic/raw/master/2020/04/1586355398747.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">周小米</div><div class="author-info__description">没有高深的知识，没有进阶的技巧。只是，万丈高楼平地起，千里之行始于足下，千里长提溃于蚁穴。能把简单的做好就是不简单，你能走多远，不是在于你有多聪明，而是取决于你有多勤奋，共勉。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">90</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">暂无公告</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E7%9A%84%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90"><span class="toc-number">1.</span> <span class="toc-text">移动端跨平台开发的深度解析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">一、前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%8E%9F%E7%90%86%E4%B8%8E%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.</span> <span class="toc-text">二、原理与特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81React-Native"><span class="toc-number">1.2.1.</span> <span class="toc-text">1、React Native</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E3%80%81%E7%90%86%E5%BF%B5%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1.1、理念架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2%E3%80%81%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">1.2、实现原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3%E3%80%81%E6%89%93%E5%8C%85%E5%8A%A0%E8%BD%BD"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">1.3、打包加载</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81WEEX"><span class="toc-number">1.2.2.</span> <span class="toc-text">2、WEEX</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1%E3%80%81%E7%90%86%E5%BF%B5%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">2.1、理念架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2%E3%80%81%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">2.2、实现原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3%E3%80%81%E6%89%93%E5%8C%85"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">2.3、打包</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Flutter"><span class="toc-number">1.2.3.</span> <span class="toc-text">3、Flutter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AF%B9%E6%AF%94"><span class="toc-number">1.3.</span> <span class="toc-text">三、对比</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">1、大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E7%A4%BE%E7%BE%A4"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">2、社群</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E6%80%A7%E8%83%BD"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">3、性能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E5%85%B6%E4%BB%96%E5%8C%BA%E5%88%AB"><span class="toc-number">1.3.0.4.</span> <span class="toc-text">4、其他区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%9C%AA%E6%9D%A5%E8%B6%8B%E5%8A%BF"><span class="toc-number">1.4.</span> <span class="toc-text">四、未来趋势</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81React-Native-1"><span class="toc-number">1.4.1.</span> <span class="toc-text">1、React Native</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Weex"><span class="toc-number">1.4.2.</span> <span class="toc-text">2、Weex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81Flutter-1"><span class="toc-number">1.4.3.</span> <span class="toc-text">3、Flutter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-number">1.5.</span> <span class="toc-text">最后</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B6%85%E5%AE%8C%E6%95%B4%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">超完整跨平台开源项目</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/02/09/git%E6%8A%80%E5%B7%A7/git%20cherry-pick%20%E6%95%99%E7%A8%8B/" title="git cherry-pick 教程"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="git cherry-pick 教程"/></a><div class="content"><a class="title" href="/2021/02/09/git%E6%8A%80%E5%B7%A7/git%20cherry-pick%20%E6%95%99%E7%A8%8B/" title="git cherry-pick 教程">git cherry-pick 教程</a><time datetime="2021-02-09T15:00:22.000Z" title="发表于 2021-02-09 23:00:22">2021-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/09/a/" title="a"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="a"/></a><div class="content"><a class="title" href="/2021/02/09/a/" title="a">a</a><time datetime="2021-02-09T12:08:01.000Z" title="发表于 2021-02-09 20:08:01">2021-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/08/Win%E8%BD%AF%E4%BB%B6/%E4%B8%80%E9%94%AE%E4%BC%98%E5%8C%96WindowsServer%E4%B8%BA%E5%AE%B6%E7%94%A8%E7%B3%BB%E7%BB%9F/" title="一键优化Windows Server为家用系统"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一键优化Windows Server为家用系统"/></a><div class="content"><a class="title" href="/2021/02/08/Win%E8%BD%AF%E4%BB%B6/%E4%B8%80%E9%94%AE%E4%BC%98%E5%8C%96WindowsServer%E4%B8%BA%E5%AE%B6%E7%94%A8%E7%B3%BB%E7%BB%9F/" title="一键优化Windows Server为家用系统">一键优化Windows Server为家用系统</a><time datetime="2021-02-08T07:30:10.000Z" title="发表于 2021-02-08 15:30:10">2021-02-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/08/Win%E8%BD%AF%E4%BB%B6/%E7%A6%BB%E7%BA%BFKMS%E6%BF%80%E6%B4%BB%E5%B7%A5%E5%85%B7%20HEU%20KMS%20Activator/" title="离线KMS激活工具 HEU KMS Activator"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="离线KMS激活工具 HEU KMS Activator"/></a><div class="content"><a class="title" href="/2021/02/08/Win%E8%BD%AF%E4%BB%B6/%E7%A6%BB%E7%BA%BFKMS%E6%BF%80%E6%B4%BB%E5%B7%A5%E5%85%B7%20HEU%20KMS%20Activator/" title="离线KMS激活工具 HEU KMS Activator">离线KMS激活工具 HEU KMS Activator</a><time datetime="2021-02-08T06:45:30.000Z" title="发表于 2021-02-08 14:45:30">2021-02-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/08/%E5%89%8D%E7%AB%AF/JS%E4%B8%AD%E4%B8%8D%E5%B8%B8%E7%94%A8%E4%BD%86%E5%BC%BA%E5%A4%A7%E7%9A%84%E6%93%8D%E4%BD%9C%E7%AC%A6/" title="JS中不常用但强大的操作符"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JS中不常用但强大的操作符"/></a><div class="content"><a class="title" href="/2021/02/08/%E5%89%8D%E7%AB%AF/JS%E4%B8%AD%E4%B8%8D%E5%B8%B8%E7%94%A8%E4%BD%86%E5%BC%BA%E5%A4%A7%E7%9A%84%E6%93%8D%E4%BD%9C%E7%AC%A6/" title="JS中不常用但强大的操作符">JS中不常用但强大的操作符</a><time datetime="2021-02-08T06:17:16.000Z" title="发表于 2021-02-08 14:17:16">2021-02-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2021 By 周小米</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">皖ICP备19002262号 </a> </div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadWaline () {
  function initWaline () {
    let initData = {
      el: '#waline-wrap',
      serverURL: 'http://waline.zhoujie16.cn',
      avatar: 'monsterid',
      path: location.pathname,
      emojiCDN: '',
      emojiMaps: {},
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign(initData, otherData)
    }
    
    const waline = new Waline(initData)
  }

  if (typeof Waline === 'function') initWaline() 
  else getScript('https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js').then(initWaline)
}

if ('Waline' === 'Waline' || !false) {
  if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
  else setTimeout(loadWaline, 0)
} else {
  function loadOtherComment () {
    loadWaline()
  }
}</script></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://oss.zhoujie16.cn/cdn/hexo-blog/common.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>