<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  



<!-- <meta name="referrer" content="never"/> -->

<style>
#footer .footer-inner .powered-by{
display: none;
}
#footer .footer-inner .post-meta-divider{
display: none;
}
#footer .footer-inner .theme-info{
display: none;
}
#comments.comments .info{
display: none !important;
}
</style>
<script>
  function blogLog() {
    if (window.location.hostname.indexOf('zhoujie16') !== -1) {
      var url = 'https://s.zhoujie16.cn/mdapi/applog_zhoujie_blog'
      var href = window.location.href
      $.post(url, {
        href: decodeURIComponent(href)
      })
    }
  }

  window.onload = function () {
    console.log('window onload')
    setTimeout(function () {
      blogLog()
    }, 2000)
  }
</script>

  <meta name="description" content="jsencrypt的GITHUB地址：https://github.com/travist/jsencrypt 1234567891011121314151617181920212223242526&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;html&amp;gt;	&amp;lt;head&amp;gt;		&amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;		&amp;lt;title&amp;gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="使用jsencrypt执行OpenSSL的RSA加密，解密">
<meta property="og:url" content="http://zhoujie16.cn/2017/02/23/我的文章/使用jsencrypt执行OpenSSL的RSA加密，解密/index.html">
<meta property="og:site_name" content="ZJ_16">
<meta property="og:description" content="jsencrypt的GITHUB地址：https://github.com/travist/jsencrypt 1234567891011121314151617181920212223242526&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;html&amp;gt;	&amp;lt;head&amp;gt;		&amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;		&amp;lt;title&amp;gt;">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-07-25T09:27:54.003Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用jsencrypt执行OpenSSL的RSA加密，解密">
<meta name="twitter:description" content="jsencrypt的GITHUB地址：https://github.com/travist/jsencrypt 1234567891011121314151617181920212223242526&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;html&amp;gt;	&amp;lt;head&amp;gt;		&amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;		&amp;lt;title&amp;gt;">





  
  
  <link rel="canonical" href="http://zhoujie16.cn/2017/02/23/我的文章/使用jsencrypt执行OpenSSL的RSA加密，解密/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>使用jsencrypt执行OpenSSL的RSA加密，解密 | ZJ_16</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ZJ_16</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">ZJ_16的个人网站</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">1</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">57</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://zhoujie16.cn/2017/02/23/我的文章/使用jsencrypt执行OpenSSL的RSA加密，解密/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="周杰">
      <meta itemprop="description" content="没有高深的知识，没有进阶的技巧。只是，万丈高楼平地起，千里之行始于足下，千里长提溃于蚁穴。能把简单的做好就是不简单，你能走多远，不是在于你有多聪明，而是取决于你有多勤奋，共勉。">
      <meta itemprop="image" content="http://pic1.zhoujie16.cn/20190725175920.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZJ_16">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">使用jsencrypt执行OpenSSL的RSA加密，解密

              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-02-23 16:32:56" itemprop="dateCreated datePublished" datetime="2017-02-23T16:32:56+08:00">2017-02-23</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-07-25 17:27:54" itemprop="dateModified" datetime="2019-07-25T17:27:54+08:00">2019-07-25</time>
              </span>
            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2017/02/23/我的文章/使用jsencrypt执行OpenSSL的RSA加密，解密/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2017/02/23/我的文章/使用jsencrypt执行OpenSSL的RSA加密，解密/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>jsencrypt的GITHUB地址：<a href="https://github.com/travist/jsencrypt" target="_blank" rel="noopener">https://github.com/travist/jsencrypt</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">		&lt;title&gt;使用jsencrypt执行OpenSSL的RSA加密，解密&lt;/title&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;!--引入jsencrypt.js--&gt;</span><br><span class="line">	&lt;script src=&quot;../bin/jsencrypt.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		//公钥</span><br><span class="line">		var PUBLIC_KEY = &apos;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDlOJu6TyygqxfWT7eLtGDwajtNFOb9I5XRb6khyfD1Yt3YiCgQWMNW649887VGJiGr/L5i2osbl8C9+WJTeucF+S76xFxdU6jE0NQ+Z+zEdhUTooNRaY5nZiu5PgDB0ED/ZKBUSLKL7eibMxZtMlUDHjm4gwQco1KRMDSmXSMkDwIDAQAB&apos;;</span><br><span class="line">		//私钥</span><br><span class="line">		var PRIVATE_KEY = &apos;MIICXQIBAAKBgQDlOJu6TyygqxfWT7eLtGDwajtNFOb9I5XRb6khyfD1Yt3YiCgQWMNW649887VGJiGr/L5i2osbl8C9+WJTeucF+S76xFxdU6jE0NQ+Z+zEdhUTooNRaY5nZiu5PgDB0ED/ZKBUSLKL7eibMxZtMlUDHjm4gwQco1KRMDSmXSMkDwIDAQABAoGAfY9LpnuWK5Bs50UVep5c93SJdUi82u7yMx4iHFMc/Z2hfenfYEzu+57fI4fvxTQ//5DbzRR/XKb8ulNv6+CHyPF31xk7YOBfkGI8qjLoq06V+FyBfDSwL8KbLyeHm7KUZnLNQbk8yGLzB3iYKkRHlmUanQGaNMIJziWOkN+N9dECQQD0ONYRNZeuM8zd8XJTSdcIX4a3gy3GGCJxOzv16XHxD03GW6UNLmfPwenKu+cdrQeaqEixrCejXdAFz/7+BSMpAkEA8EaSOeP5Xr3ZrbiKzi6TGMwHMvC7HdJxaBJbVRfApFrE0/mPwmP5rN7QwjrMY+0+AbXcm8mRQyQ1+IGEembsdwJBAN6az8Rv7QnD/YBvi52POIlRSSIMV7SwWvSK4WSMnGb1ZBbhgdg57DXaspcwHsFV7hByQ5BvMtIduHcT14ECfcECQATeaTgjFnqE/lQ22Rk0eGaYO80cc643BXVGafNfd9fcvwBMnk0iGX0XRsOozVt5AzilpsLBYuApa66NcVHJpCECQQDTjI2AQhFc1yRnCU/YgDnSpJVm1nASoRUnU8Jfm3Ozuku7JUXcVpt08DFSceCEX9unCuMcT72rAQlLpdZir876&apos;;</span><br><span class="line">		//使用公钥加密</span><br><span class="line">		var encrypt = new JSEncrypt();</span><br><span class="line">		encrypt.setPublicKey(&apos;-----BEGIN PUBLIC KEY-----&apos; + PUBLIC_KEY + &apos;-----END PUBLIC KEY-----&apos;);</span><br><span class="line">		var encrypted = encrypt.encrypt(&apos;ceshi01&apos;);</span><br><span class="line">		console.log(&apos;加密后数据:%o&apos;, encrypted);</span><br><span class="line">		//使用私钥解密</span><br><span class="line">		var decrypt = new JSEncrypt();</span><br><span class="line">		decrypt.setPrivateKey(&apos;-----BEGIN RSA PRIVATE KEY-----&apos;+PRIVATE_KEY+&apos;-----END RSA PRIVATE KEY-----&apos;);</span><br><span class="line">		var uncrypted = decrypt.decrypt(encrypted);</span><br><span class="line">		console.log(&apos;解密后数据:%o&apos;, uncrypted);</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>JSEncrypt v2.3.1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">/*! JSEncrypt v2.3.1 | https://npmcdn.com/jsencrypt@2.3.1/LICENSE.txt */</span><br><span class="line">!function(t,e)&#123;&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;exports&quot;],e):e(&quot;object&quot;==typeof exports&amp;&amp;&quot;string&quot;!=typeof exports.nodeName?module.exports:t)&#125;(this,function(t)&#123;function e(t,e,i)&#123;null!=t&amp;&amp;(&quot;number&quot;==typeof t?this.fromNumber(t,e,i):null==e&amp;&amp;&quot;string&quot;!=typeof t?this.fromString(t,256):this.fromString(t,e))&#125;function i()&#123;return new e(null)&#125;function r(t,e,i,r,s,n)&#123;for(;--n&gt;=0;)&#123;var o=e*this[t++]+i[r]+s;s=Math.floor(o/67108864),i[r++]=67108863&amp;o&#125;return s&#125;function s(t,e,i,r,s,n)&#123;for(var o=32767&amp;e,h=e&gt;&gt;15;--n&gt;=0;)&#123;var a=32767&amp;this[t],u=this[t++]&gt;&gt;15,c=h*a+u*o;a=o*a+((32767&amp;c)&lt;&lt;15)+i[r]+(1073741823&amp;s),s=(a&gt;&gt;&gt;30)+(c&gt;&gt;&gt;15)+h*u+(s&gt;&gt;&gt;30),i[r++]=1073741823&amp;a&#125;return s&#125;function n(t,e,i,r,s,n)&#123;for(var o=16383&amp;e,h=e&gt;&gt;14;--n&gt;=0;)&#123;var a=16383&amp;this[t],u=this[t++]&gt;&gt;14,c=h*a+u*o;a=o*a+((16383&amp;c)&lt;&lt;14)+i[r]+s,s=(a&gt;&gt;28)+(c&gt;&gt;14)+h*u,i[r++]=268435455&amp;a&#125;return s&#125;function o(t)&#123;return Be.charAt(t)&#125;function h(t,e)&#123;var i=Ke[t.charCodeAt(e)];return null==i?-1:i&#125;function a(t)&#123;for(var e=this.t-1;e&gt;=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s&#125;function u(t)&#123;this.t=1,this.s=0&gt;t?-1:0,t&gt;0?this[0]=t:-1&gt;t?this[0]=t+this.DV:this.t=0&#125;function c(t)&#123;var e=i();return e.fromInt(t),e&#125;function f(t,i)&#123;var r;if(16==i)r=4;else if(8==i)r=3;else if(256==i)r=8;else if(2==i)r=1;else if(32==i)r=5;else&#123;if(4!=i)return void this.fromRadix(t,i);r=2&#125;this.t=0,this.s=0;for(var s=t.length,n=!1,o=0;--s&gt;=0;)&#123;var a=8==r?255&amp;t[s]:h(t,s);0&gt;a?&quot;-&quot;==t.charAt(s)&amp;&amp;(n=!0):(n=!1,0==o?this[this.t++]=a:o+r&gt;this.DB?(this[this.t-1]|=(a&amp;(1&lt;&lt;this.DB-o)-1)&lt;&lt;o,this[this.t++]=a&gt;&gt;this.DB-o):this[this.t-1]|=a&lt;&lt;o,o+=r,o&gt;=this.DB&amp;&amp;(o-=this.DB))&#125;8==r&amp;&amp;0!=(128&amp;t[0])&amp;&amp;(this.s=-1,o&gt;0&amp;&amp;(this[this.t-1]|=(1&lt;&lt;this.DB-o)-1&lt;&lt;o)),this.clamp(),n&amp;&amp;e.ZERO.subTo(this,this)&#125;function p()&#123;for(var t=this.s&amp;this.DM;this.t&gt;0&amp;&amp;this[this.t-1]==t;)--this.t&#125;function l(t)&#123;if(this.s&lt;0)return&quot;-&quot;+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else&#123;if(4!=t)return this.toRadix(t);e=2&#125;var i,r=(1&lt;&lt;e)-1,s=!1,n=&quot;&quot;,h=this.t,a=this.DB-h*this.DB%e;if(h-- &gt;0)for(a&lt;this.DB&amp;&amp;(i=this[h]&gt;&gt;a)&gt;0&amp;&amp;(s=!0,n=o(i));h&gt;=0;)e&gt;a?(i=(this[h]&amp;(1&lt;&lt;a)-1)&lt;&lt;e-a,i|=this[--h]&gt;&gt;(a+=this.DB-e)):(i=this[h]&gt;&gt;(a-=e)&amp;r,0&gt;=a&amp;&amp;(a+=this.DB,--h)),i&gt;0&amp;&amp;(s=!0),s&amp;&amp;(n+=o(i));return s?n:&quot;0&quot;&#125;function d()&#123;var t=i();return e.ZERO.subTo(this,t),t&#125;function g()&#123;return this.s&lt;0?this.negate():this&#125;function m(t)&#123;var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(e=i-t.t,0!=e)return this.s&lt;0?-e:e;for(;--i&gt;=0;)if(0!=(e=this[i]-t[i]))return e;return 0&#125;function y(t)&#123;var e,i=1;return 0!=(e=t&gt;&gt;&gt;16)&amp;&amp;(t=e,i+=16),0!=(e=t&gt;&gt;8)&amp;&amp;(t=e,i+=8),0!=(e=t&gt;&gt;4)&amp;&amp;(t=e,i+=4),0!=(e=t&gt;&gt;2)&amp;&amp;(t=e,i+=2),0!=(e=t&gt;&gt;1)&amp;&amp;(t=e,i+=1),i&#125;function b()&#123;return this.t&lt;=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&amp;this.DM)&#125;function T(t,e)&#123;var i;for(i=this.t-1;i&gt;=0;--i)e[i+t]=this[i];for(i=t-1;i&gt;=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s&#125;function S(t,e)&#123;for(var i=t;i&lt;this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s&#125;function R(t,e)&#123;var i,r=t%this.DB,s=this.DB-r,n=(1&lt;&lt;s)-1,o=Math.floor(t/this.DB),h=this.s&lt;&lt;r&amp;this.DM;for(i=this.t-1;i&gt;=0;--i)e[i+o+1]=this[i]&gt;&gt;s|h,h=(this[i]&amp;n)&lt;&lt;r;for(i=o-1;i&gt;=0;--i)e[i]=0;e[o]=h,e.t=this.t+o+1,e.s=this.s,e.clamp()&#125;function E(t,e)&#123;e.s=this.s;var i=Math.floor(t/this.DB);if(i&gt;=this.t)return void(e.t=0);var r=t%this.DB,s=this.DB-r,n=(1&lt;&lt;r)-1;e[0]=this[i]&gt;&gt;r;for(var o=i+1;o&lt;this.t;++o)e[o-i-1]|=(this[o]&amp;n)&lt;&lt;s,e[o-i]=this[o]&gt;&gt;r;r&gt;0&amp;&amp;(e[this.t-i-1]|=(this.s&amp;n)&lt;&lt;s),e.t=this.t-i,e.clamp()&#125;function D(t,e)&#123;for(var i=0,r=0,s=Math.min(t.t,this.t);s&gt;i;)r+=this[i]-t[i],e[i++]=r&amp;this.DM,r&gt;&gt;=this.DB;if(t.t&lt;this.t)&#123;for(r-=t.s;i&lt;this.t;)r+=this[i],e[i++]=r&amp;this.DM,r&gt;&gt;=this.DB;r+=this.s&#125;else&#123;for(r+=this.s;i&lt;t.t;)r-=t[i],e[i++]=r&amp;this.DM,r&gt;&gt;=this.DB;r-=t.s&#125;e.s=0&gt;r?-1:0,-1&gt;r?e[i++]=this.DV+r:r&gt;0&amp;&amp;(e[i++]=r),e.t=i,e.clamp()&#125;function w(t,i)&#123;var r=this.abs(),s=t.abs(),n=r.t;for(i.t=n+s.t;--n&gt;=0;)i[n]=0;for(n=0;n&lt;s.t;++n)i[n+r.t]=r.am(0,s[n],i,n,0,r.t);i.s=0,i.clamp(),this.s!=t.s&amp;&amp;e.ZERO.subTo(i,i)&#125;function x(t)&#123;for(var e=this.abs(),i=t.t=2*e.t;--i&gt;=0;)t[i]=0;for(i=0;i&lt;e.t-1;++i)&#123;var r=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,r,e.t-i-1))&gt;=e.DV&amp;&amp;(t[i+e.t]-=e.DV,t[i+e.t+1]=1)&#125;t.t&gt;0&amp;&amp;(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()&#125;function B(t,r,s)&#123;var n=t.abs();if(!(n.t&lt;=0))&#123;var o=this.abs();if(o.t&lt;n.t)return null!=r&amp;&amp;r.fromInt(0),void(null!=s&amp;&amp;this.copyTo(s));null==s&amp;&amp;(s=i());var h=i(),a=this.s,u=t.s,c=this.DB-y(n[n.t-1]);c&gt;0?(n.lShiftTo(c,h),o.lShiftTo(c,s)):(n.copyTo(h),o.copyTo(s));var f=h.t,p=h[f-1];if(0!=p)&#123;var l=p*(1&lt;&lt;this.F1)+(f&gt;1?h[f-2]&gt;&gt;this.F2:0),d=this.FV/l,g=(1&lt;&lt;this.F1)/l,m=1&lt;&lt;this.F2,v=s.t,b=v-f,T=null==r?i():r;for(h.dlShiftTo(b,T),s.compareTo(T)&gt;=0&amp;&amp;(s[s.t++]=1,s.subTo(T,s)),e.ONE.dlShiftTo(f,T),T.subTo(h,h);h.t&lt;f;)h[h.t++]=0;for(;--b&gt;=0;)&#123;var S=s[--v]==p?this.DM:Math.floor(s[v]*d+(s[v-1]+m)*g);if((s[v]+=h.am(0,S,s,b,0,f))&lt;S)for(h.dlShiftTo(b,T),s.subTo(T,s);s[v]&lt;--S;)s.subTo(T,s)&#125;null!=r&amp;&amp;(s.drShiftTo(f,r),a!=u&amp;&amp;e.ZERO.subTo(r,r)),s.t=f,s.clamp(),c&gt;0&amp;&amp;s.rShiftTo(c,s),0&gt;a&amp;&amp;e.ZERO.subTo(s,s)&#125;&#125;&#125;function K(t)&#123;var r=i();return this.abs().divRemTo(t,null,r),this.s&lt;0&amp;&amp;r.compareTo(e.ZERO)&gt;0&amp;&amp;t.subTo(r,r),r&#125;function A(t)&#123;this.m=t&#125;function U(t)&#123;return t.s&lt;0||t.compareTo(this.m)&gt;=0?t.mod(this.m):t&#125;function O(t)&#123;return t&#125;function V(t)&#123;t.divRemTo(this.m,null,t)&#125;function N(t,e,i)&#123;t.multiplyTo(e,i),this.reduce(i)&#125;function J(t,e)&#123;t.squareTo(e),this.reduce(e)&#125;function I()&#123;if(this.t&lt;1)return 0;var t=this[0];if(0==(1&amp;t))return 0;var e=3&amp;t;return e=e*(2-(15&amp;t)*e)&amp;15,e=e*(2-(255&amp;t)*e)&amp;255,e=e*(2-((65535&amp;t)*e&amp;65535))&amp;65535,e=e*(2-t*e%this.DV)%this.DV,e&gt;0?this.DV-e:-e&#125;function P(t)&#123;this.m=t,this.mp=t.invDigit(),this.mpl=32767&amp;this.mp,this.mph=this.mp&gt;&gt;15,this.um=(1&lt;&lt;t.DB-15)-1,this.mt2=2*t.t&#125;function M(t)&#123;var r=i();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s&lt;0&amp;&amp;r.compareTo(e.ZERO)&gt;0&amp;&amp;this.m.subTo(r,r),r&#125;function L(t)&#123;var e=i();return t.copyTo(e),this.reduce(e),e&#125;function q(t)&#123;for(;t.t&lt;=this.mt2;)t[t.t++]=0;for(var e=0;e&lt;this.m.t;++e)&#123;var i=32767&amp;t[e],r=i*this.mpl+((i*this.mph+(t[e]&gt;&gt;15)*this.mpl&amp;this.um)&lt;&lt;15)&amp;t.DM;for(i=e+this.m.t,t[i]+=this.m.am(0,r,t,e,0,this.m.t);t[i]&gt;=t.DV;)t[i]-=t.DV,t[++i]++&#125;t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)&gt;=0&amp;&amp;t.subTo(this.m,t)&#125;function C(t,e)&#123;t.squareTo(e),this.reduce(e)&#125;function H(t,e,i)&#123;t.multiplyTo(e,i),this.reduce(i)&#125;function j()&#123;return 0==(this.t&gt;0?1&amp;this[0]:this.s)&#125;function k(t,r)&#123;if(t&gt;4294967295||1&gt;t)return e.ONE;var s=i(),n=i(),o=r.convert(this),h=y(t)-1;for(o.copyTo(s);--h&gt;=0;)if(r.sqrTo(s,n),(t&amp;1&lt;&lt;h)&gt;0)r.mulTo(n,o,s);else&#123;var a=s;s=n,n=a&#125;return r.revert(s)&#125;function F(t,e)&#123;var i;return i=256&gt;t||e.isEven()?new A(e):new P(e),this.exp(t,i)&#125;</span><br><span class="line">// Copyright (c) 2005-2009  Tom Wu</span><br><span class="line">// All Rights Reserved.</span><br><span class="line">// See &quot;LICENSE&quot; for details.</span><br><span class="line">function _()&#123;var t=i();return this.copyTo(t),t&#125;function z()&#123;if(this.s&lt;0)&#123;if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1&#125;else&#123;if(1==this.t)return this[0];if(0==this.t)return 0&#125;return(this[1]&amp;(1&lt;&lt;32-this.DB)-1)&lt;&lt;this.DB|this[0]&#125;function Z()&#123;return 0==this.t?this.s:this[0]&lt;&lt;24&gt;&gt;24&#125;function G()&#123;return 0==this.t?this.s:this[0]&lt;&lt;16&gt;&gt;16&#125;function $(t)&#123;return Math.floor(Math.LN2*this.DB/Math.log(t))&#125;function Y()&#123;return this.s&lt;0?-1:this.t&lt;=0||1==this.t&amp;&amp;this[0]&lt;=0?0:1&#125;function W(t)&#123;if(null==t&amp;&amp;(t=10),0==this.signum()||2&gt;t||t&gt;36)return&quot;0&quot;;var e=this.chunkSize(t),r=Math.pow(t,e),s=c(r),n=i(),o=i(),h=&quot;&quot;;for(this.divRemTo(s,n,o);n.signum()&gt;0;)h=(r+o.intValue()).toString(t).substr(1)+h,n.divRemTo(s,n,o);return o.intValue().toString(t)+h&#125;function Q(t,i)&#123;this.fromInt(0),null==i&amp;&amp;(i=10);for(var r=this.chunkSize(i),s=Math.pow(i,r),n=!1,o=0,a=0,u=0;u&lt;t.length;++u)&#123;var c=h(t,u);0&gt;c?&quot;-&quot;==t.charAt(u)&amp;&amp;0==this.signum()&amp;&amp;(n=!0):(a=i*a+c,++o&gt;=r&amp;&amp;(this.dMultiply(s),this.dAddOffset(a,0),o=0,a=0))&#125;o&gt;0&amp;&amp;(this.dMultiply(Math.pow(i,o)),this.dAddOffset(a,0)),n&amp;&amp;e.ZERO.subTo(this,this)&#125;function X(t,i,r)&#123;if(&quot;number&quot;==typeof i)if(2&gt;t)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ht,this),this.isEven()&amp;&amp;this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()&gt;t&amp;&amp;this.subTo(e.ONE.shiftLeft(t-1),this);else&#123;var s=new Array,n=7&amp;t;s.length=(t&gt;&gt;3)+1,i.nextBytes(s),n&gt;0?s[0]&amp;=(1&lt;&lt;n)-1:s[0]=0,this.fromString(s,256)&#125;&#125;function tt()&#123;var t=this.t,e=new Array;e[0]=this.s;var i,r=this.DB-t*this.DB%8,s=0;if(t-- &gt;0)for(r&lt;this.DB&amp;&amp;(i=this[t]&gt;&gt;r)!=(this.s&amp;this.DM)&gt;&gt;r&amp;&amp;(e[s++]=i|this.s&lt;&lt;this.DB-r);t&gt;=0;)8&gt;r?(i=(this[t]&amp;(1&lt;&lt;r)-1)&lt;&lt;8-r,i|=this[--t]&gt;&gt;(r+=this.DB-8)):(i=this[t]&gt;&gt;(r-=8)&amp;255,0&gt;=r&amp;&amp;(r+=this.DB,--t)),0!=(128&amp;i)&amp;&amp;(i|=-256),0==s&amp;&amp;(128&amp;this.s)!=(128&amp;i)&amp;&amp;++s,(s&gt;0||i!=this.s)&amp;&amp;(e[s++]=i);return e&#125;function et(t)&#123;return 0==this.compareTo(t)&#125;function it(t)&#123;return this.compareTo(t)&lt;0?this:t&#125;function rt(t)&#123;return this.compareTo(t)&gt;0?this:t&#125;function st(t,e,i)&#123;var r,s,n=Math.min(t.t,this.t);for(r=0;n&gt;r;++r)i[r]=e(this[r],t[r]);if(t.t&lt;this.t)&#123;for(s=t.s&amp;this.DM,r=n;r&lt;this.t;++r)i[r]=e(this[r],s);i.t=this.t&#125;else&#123;for(s=this.s&amp;this.DM,r=n;r&lt;t.t;++r)i[r]=e(s,t[r]);i.t=t.t&#125;i.s=e(this.s,t.s),i.clamp()&#125;function nt(t,e)&#123;return t&amp;e&#125;function ot(t)&#123;var e=i();return this.bitwiseTo(t,nt,e),e&#125;function ht(t,e)&#123;return t|e&#125;function at(t)&#123;var e=i();return this.bitwiseTo(t,ht,e),e&#125;function ut(t,e)&#123;return t^e&#125;function ct(t)&#123;var e=i();return this.bitwiseTo(t,ut,e),e&#125;function ft(t,e)&#123;return t&amp;~e&#125;function pt(t)&#123;var e=i();return this.bitwiseTo(t,ft,e),e&#125;function lt()&#123;for(var t=i(),e=0;e&lt;this.t;++e)t[e]=this.DM&amp;~this[e];return t.t=this.t,t.s=~this.s,t&#125;function dt(t)&#123;var e=i();return 0&gt;t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e&#125;function gt(t)&#123;var e=i();return 0&gt;t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e&#125;function mt(t)&#123;if(0==t)return-1;var e=0;return 0==(65535&amp;t)&amp;&amp;(t&gt;&gt;=16,e+=16),0==(255&amp;t)&amp;&amp;(t&gt;&gt;=8,e+=8),0==(15&amp;t)&amp;&amp;(t&gt;&gt;=4,e+=4),0==(3&amp;t)&amp;&amp;(t&gt;&gt;=2,e+=2),0==(1&amp;t)&amp;&amp;++e,e&#125;function yt()&#123;for(var t=0;t&lt;this.t;++t)if(0!=this[t])return t*this.DB+mt(this[t]);return this.s&lt;0?this.t*this.DB:-1&#125;function vt(t)&#123;for(var e=0;0!=t;)t&amp;=t-1,++e;return e&#125;function bt()&#123;for(var t=0,e=this.s&amp;this.DM,i=0;i&lt;this.t;++i)t+=vt(this[i]^e);return t&#125;function Tt(t)&#123;var e=Math.floor(t/this.DB);return e&gt;=this.t?0!=this.s:0!=(this[e]&amp;1&lt;&lt;t%this.DB)&#125;function St(t,i)&#123;var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,i,r),r&#125;function Rt(t)&#123;return this.changeBit(t,ht)&#125;function Et(t)&#123;return this.changeBit(t,ft)&#125;function Dt(t)&#123;return this.changeBit(t,ut)&#125;function wt(t,e)&#123;for(var i=0,r=0,s=Math.min(t.t,this.t);s&gt;i;)r+=this[i]+t[i],e[i++]=r&amp;this.DM,r&gt;&gt;=this.DB;if(t.t&lt;this.t)&#123;for(r+=t.s;i&lt;this.t;)r+=this[i],e[i++]=r&amp;this.DM,r&gt;&gt;=this.DB;r+=this.s&#125;else&#123;for(r+=this.s;i&lt;t.t;)r+=t[i],e[i++]=r&amp;this.DM,r&gt;&gt;=this.DB;r+=t.s&#125;e.s=0&gt;r?-1:0,r&gt;0?e[i++]=r:-1&gt;r&amp;&amp;(e[i++]=this.DV+r),e.t=i,e.clamp()&#125;function xt(t)&#123;var e=i();return this.addTo(t,e),e&#125;function Bt(t)&#123;var e=i();return this.subTo(t,e),e&#125;function Kt(t)&#123;var e=i();return this.multiplyTo(t,e),e&#125;function At()&#123;var t=i();return this.squareTo(t),t&#125;function Ut(t)&#123;var e=i();return this.divRemTo(t,e,null),e&#125;function Ot(t)&#123;var e=i();return this.divRemTo(t,null,e),e&#125;function Vt(t)&#123;var e=i(),r=i();return this.divRemTo(t,e,r),new Array(e,r)&#125;function Nt(t)&#123;this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()&#125;function Jt(t,e)&#123;if(0!=t)&#123;for(;this.t&lt;=e;)this[this.t++]=0;for(this[e]+=t;this[e]&gt;=this.DV;)this[e]-=this.DV,++e&gt;=this.t&amp;&amp;(this[this.t++]=0),++this[e]&#125;&#125;function It()&#123;&#125;function Pt(t)&#123;return t&#125;function Mt(t,e,i)&#123;t.multiplyTo(e,i)&#125;function Lt(t,e)&#123;t.squareTo(e)&#125;function qt(t)&#123;return this.exp(t,new It)&#125;function Ct(t,e,i)&#123;var r=Math.min(this.t+t.t,e);for(i.s=0,i.t=r;r&gt;0;)i[--r]=0;var s;for(s=i.t-this.t;s&gt;r;++r)i[r+this.t]=this.am(0,t[r],i,r,0,this.t);for(s=Math.min(t.t,e);s&gt;r;++r)this.am(0,t[r],i,r,0,e-r);i.clamp()&#125;function Ht(t,e,i)&#123;--e;var r=i.t=this.t+t.t-e;for(i.s=0;--r&gt;=0;)i[r]=0;for(r=Math.max(e-this.t,0);r&lt;t.t;++r)i[this.t+r-e]=this.am(e-r,t[r],i,0,0,this.t+r-e);i.clamp(),i.drShiftTo(1,i)&#125;function jt(t)&#123;this.r2=i(),this.q3=i(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t&#125;function kt(t)&#123;if(t.s&lt;0||t.t&gt;2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)&lt;0)return t;var e=i();return t.copyTo(e),this.reduce(e),e&#125;function Ft(t)&#123;return t&#125;function _t(t)&#123;for(t.drShiftTo(this.m.t-1,this.r2),t.t&gt;this.m.t+1&amp;&amp;(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)&lt;0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)&gt;=0;)t.subTo(this.m,t)&#125;function zt(t,e)&#123;t.squareTo(e),this.reduce(e)&#125;function Zt(t,e,i)&#123;t.multiplyTo(e,i),this.reduce(i)&#125;function Gt(t,e)&#123;var r,s,n=t.bitLength(),o=c(1);if(0&gt;=n)return o;r=18&gt;n?1:48&gt;n?3:144&gt;n?4:768&gt;n?5:6,s=8&gt;n?new A(e):e.isEven()?new jt(e):new P(e);var h=new Array,a=3,u=r-1,f=(1&lt;&lt;r)-1;if(h[1]=s.convert(this),r&gt;1)&#123;var p=i();for(s.sqrTo(h[1],p);f&gt;=a;)h[a]=i(),s.mulTo(p,h[a-2],h[a]),a+=2&#125;var l,d,g=t.t-1,m=!0,v=i();for(n=y(t[g])-1;g&gt;=0;)&#123;for(n&gt;=u?l=t[g]&gt;&gt;n-u&amp;f:(l=(t[g]&amp;(1&lt;&lt;n+1)-1)&lt;&lt;u-n,g&gt;0&amp;&amp;(l|=t[g-1]&gt;&gt;this.DB+n-u)),a=r;0==(1&amp;l);)l&gt;&gt;=1,--a;if((n-=a)&lt;0&amp;&amp;(n+=this.DB,--g),m)h[l].copyTo(o),m=!1;else&#123;for(;a&gt;1;)s.sqrTo(o,v),s.sqrTo(v,o),a-=2;a&gt;0?s.sqrTo(o,v):(d=o,o=v,v=d),s.mulTo(v,h[l],o)&#125;for(;g&gt;=0&amp;&amp;0==(t[g]&amp;1&lt;&lt;n);)s.sqrTo(o,v),d=o,o=v,v=d,--n&lt;0&amp;&amp;(n=this.DB-1,--g)&#125;return s.revert(o)&#125;function $t(t)&#123;var e=this.s&lt;0?this.negate():this.clone(),i=t.s&lt;0?t.negate():t.clone();if(e.compareTo(i)&lt;0)&#123;var r=e;e=i,i=r&#125;var s=e.getLowestSetBit(),n=i.getLowestSetBit();if(0&gt;n)return e;for(n&gt;s&amp;&amp;(n=s),n&gt;0&amp;&amp;(e.rShiftTo(n,e),i.rShiftTo(n,i));e.signum()&gt;0;)(s=e.getLowestSetBit())&gt;0&amp;&amp;e.rShiftTo(s,e),(s=i.getLowestSetBit())&gt;0&amp;&amp;i.rShiftTo(s,i),e.compareTo(i)&gt;=0?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return n&gt;0&amp;&amp;i.lShiftTo(n,i),i&#125;function Yt(t)&#123;if(0&gt;=t)return 0;var e=this.DV%t,i=this.s&lt;0?t-1:0;if(this.t&gt;0)if(0==e)i=this[0]%t;else for(var r=this.t-1;r&gt;=0;--r)i=(e*i+this[r])%t;return i&#125;function Wt(t)&#123;var i=t.isEven();if(this.isEven()&amp;&amp;i||0==t.signum())return e.ZERO;for(var r=t.clone(),s=this.clone(),n=c(1),o=c(0),h=c(0),a=c(1);0!=r.signum();)&#123;for(;r.isEven();)r.rShiftTo(1,r),i?(n.isEven()&amp;&amp;o.isEven()||(n.addTo(this,n),o.subTo(t,o)),n.rShiftTo(1,n)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;s.isEven();)s.rShiftTo(1,s),i?(h.isEven()&amp;&amp;a.isEven()||(h.addTo(this,h),a.subTo(t,a)),h.rShiftTo(1,h)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(s)&gt;=0?(r.subTo(s,r),i&amp;&amp;n.subTo(h,n),o.subTo(a,o)):(s.subTo(r,s),i&amp;&amp;h.subTo(n,h),a.subTo(o,a))&#125;return 0!=s.compareTo(e.ONE)?e.ZERO:a.compareTo(t)&gt;=0?a.subtract(t):a.signum()&lt;0?(a.addTo(t,a),a.signum()&lt;0?a.add(t):a):a&#125;function Qt(t)&#123;var e,i=this.abs();if(1==i.t&amp;&amp;i[0]&lt;=Ae[Ae.length-1])&#123;for(e=0;e&lt;Ae.length;++e)if(i[0]==Ae[e])return!0;return!1&#125;if(i.isEven())return!1;for(e=1;e&lt;Ae.length;)&#123;for(var r=Ae[e],s=e+1;s&lt;Ae.length&amp;&amp;Ue&gt;r;)r*=Ae[s++];for(r=i.modInt(r);s&gt;e;)if(r%Ae[e++]==0)return!1&#125;return i.millerRabin(t)&#125;function Xt(t)&#123;var r=this.subtract(e.ONE),s=r.getLowestSetBit();if(0&gt;=s)return!1;var n=r.shiftRight(s);t=t+1&gt;&gt;1,t&gt;Ae.length&amp;&amp;(t=Ae.length);for(var o=i(),h=0;t&gt;h;++h)&#123;o.fromInt(Ae[Math.floor(Math.random()*Ae.length)]);var a=o.modPow(n,this);if(0!=a.compareTo(e.ONE)&amp;&amp;0!=a.compareTo(r))&#123;for(var u=1;u++&lt;s&amp;&amp;0!=a.compareTo(r);)if(a=a.modPowInt(2,this),0==a.compareTo(e.ONE))return!1;if(0!=a.compareTo(r))return!1&#125;&#125;return!0&#125;function te()&#123;this.i=0,this.j=0,this.S=new Array&#125;function ee(t)&#123;var e,i,r;for(e=0;256&gt;e;++e)this.S[e]=e;for(i=0,e=0;256&gt;e;++e)i=i+this.S[e]+t[e%t.length]&amp;255,r=this.S[e],this.S[e]=this.S[i],this.S[i]=r;this.i=0,this.j=0&#125;function ie()&#123;var t;return this.i=this.i+1&amp;255,this.j=this.j+this.S[this.i]&amp;255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&amp;255]&#125;function re()&#123;return new te&#125;function se()&#123;if(null==Oe)&#123;for(Oe=re();Je&gt;Ne;)&#123;var t=Math.floor(65536*Math.random());Ve[Ne++]=255&amp;t&#125;for(Oe.init(Ve),Ne=0;Ne&lt;Ve.length;++Ne)Ve[Ne]=0;Ne=0&#125;return Oe.next()&#125;function ne(t)&#123;var e;for(e=0;e&lt;t.length;++e)t[e]=se()&#125;function oe()&#123;&#125;function he(t,i)&#123;return new e(t,i)&#125;function ae(t,i)&#123;if(i&lt;t.length+11)return console.error(&quot;Message too long for RSA&quot;),null;for(var r=new Array,s=t.length-1;s&gt;=0&amp;&amp;i&gt;0;)&#123;var n=t.charCodeAt(s--);128&gt;n?r[--i]=n:n&gt;127&amp;&amp;2048&gt;n?(r[--i]=63&amp;n|128,r[--i]=n&gt;&gt;6|192):(r[--i]=63&amp;n|128,r[--i]=n&gt;&gt;6&amp;63|128,r[--i]=n&gt;&gt;12|224)&#125;r[--i]=0;for(var o=new oe,h=new Array;i&gt;2;)&#123;for(h[0]=0;0==h[0];)o.nextBytes(h);r[--i]=h[0]&#125;return r[--i]=2,r[--i]=0,new e(r)&#125;function ue()&#123;this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null&#125;function ce(t,e)&#123;null!=t&amp;&amp;null!=e&amp;&amp;t.length&gt;0&amp;&amp;e.length&gt;0?(this.n=he(t,16),this.e=parseInt(e,16)):console.error(&quot;Invalid RSA public key&quot;)&#125;function fe(t)&#123;return t.modPowInt(this.e,this.n)&#125;function pe(t)&#123;var e=ae(t,this.n.bitLength()+7&gt;&gt;3);if(null==e)return null;var i=this.doPublic(e);if(null==i)return null;var r=i.toString(16);return 0==(1&amp;r.length)?r:&quot;0&quot;+r&#125;function le(t,e)&#123;for(var i=t.toByteArray(),r=0;r&lt;i.length&amp;&amp;0==i[r];)++r;if(i.length-r!=e-1||2!=i[r])return null;for(++r;0!=i[r];)if(++r&gt;=i.length)return null;for(var s=&quot;&quot;;++r&lt;i.length;)&#123;var n=255&amp;i[r];128&gt;n?s+=String.fromCharCode(n):n&gt;191&amp;&amp;224&gt;n?(s+=String.fromCharCode((31&amp;n)&lt;&lt;6|63&amp;i[r+1]),++r):(s+=String.fromCharCode((15&amp;n)&lt;&lt;12|(63&amp;i[r+1])&lt;&lt;6|63&amp;i[r+2]),r+=2)&#125;return s&#125;function de(t,e,i)&#123;null!=t&amp;&amp;null!=e&amp;&amp;t.length&gt;0&amp;&amp;e.length&gt;0?(this.n=he(t,16),this.e=parseInt(e,16),this.d=he(i,16)):console.error(&quot;Invalid RSA private key&quot;)&#125;function ge(t,e,i,r,s,n,o,h)&#123;null!=t&amp;&amp;null!=e&amp;&amp;t.length&gt;0&amp;&amp;e.length&gt;0?(this.n=he(t,16),this.e=parseInt(e,16),this.d=he(i,16),this.p=he(r,16),this.q=he(s,16),this.dmp1=he(n,16),this.dmq1=he(o,16),this.coeff=he(h,16)):console.error(&quot;Invalid RSA private key&quot;)&#125;function me(t,i)&#123;var r=new oe,s=t&gt;&gt;1;this.e=parseInt(i,16);for(var n=new e(i,16);;)&#123;for(;this.p=new e(t-s,1,r),0!=this.p.subtract(e.ONE).gcd(n).compareTo(e.ONE)||!this.p.isProbablePrime(10););for(;this.q=new e(s,1,r),0!=this.q.subtract(e.ONE).gcd(n).compareTo(e.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)&lt;=0)&#123;var o=this.p;this.p=this.q,this.q=o&#125;var h=this.p.subtract(e.ONE),a=this.q.subtract(e.ONE),u=h.multiply(a);if(0==u.gcd(n).compareTo(e.ONE))&#123;this.n=this.p.multiply(this.q),this.d=n.modInverse(u),this.dmp1=this.d.mod(h),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break&#125;&#125;&#125;function ye(t)&#123;if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)&lt;0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)&#125;function ve(t)&#123;var e=he(t,16),i=this.doPrivate(e);return null==i?null:le(i,this.n.bitLength()+7&gt;&gt;3)&#125;function be(t)&#123;var e,i,r=&quot;&quot;;for(e=0;e+3&lt;=t.length;e+=3)i=parseInt(t.substring(e,e+3),16),r+=Le.charAt(i&gt;&gt;6)+Le.charAt(63&amp;i);for(e+1==t.length?(i=parseInt(t.substring(e,e+1),16),r+=Le.charAt(i&lt;&lt;2)):e+2==t.length&amp;&amp;(i=parseInt(t.substring(e,e+2),16),r+=Le.charAt(i&gt;&gt;2)+Le.charAt((3&amp;i)&lt;&lt;4));(3&amp;r.length)&gt;0;)r+=qe;return r&#125;function Te(t)&#123;var e,i,r=&quot;&quot;,s=0;for(e=0;e&lt;t.length&amp;&amp;t.charAt(e)!=qe;++e)v=Le.indexOf(t.charAt(e)),v&lt;0||(0==s?(r+=o(v&gt;&gt;2),i=3&amp;v,s=1):1==s?(r+=o(i&lt;&lt;2|v&gt;&gt;4),i=15&amp;v,s=2):2==s?(r+=o(i),r+=o(v&gt;&gt;2),i=3&amp;v,s=3):(r+=o(i&lt;&lt;2|v&gt;&gt;4),r+=o(15&amp;v),s=0));return 1==s&amp;&amp;(r+=o(i&lt;&lt;2)),r&#125;</span><br><span class="line">// Copyright (c) 2005  Tom Wu</span><br><span class="line">// All Rights Reserved.</span><br><span class="line">// See &quot;LICENSE&quot; for details.</span><br><span class="line">var Se,Re=0xdeadbeefcafe,Ee=15715070==(16777215&amp;Re);Ee&amp;&amp;&quot;Microsoft Internet Explorer&quot;==navigator.appName?(e.prototype.am=s,Se=30):Ee&amp;&amp;&quot;Netscape&quot;!=navigator.appName?(e.prototype.am=r,Se=26):(e.prototype.am=n,Se=28),e.prototype.DB=Se,e.prototype.DM=(1&lt;&lt;Se)-1,e.prototype.DV=1&lt;&lt;Se;var De=52;e.prototype.FV=Math.pow(2,De),e.prototype.F1=De-Se,e.prototype.F2=2*Se-De;var we,xe,Be=&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;,Ke=new Array;for(we=&quot;0&quot;.charCodeAt(0),xe=0;9&gt;=xe;++xe)Ke[we++]=xe;for(we=&quot;a&quot;.charCodeAt(0),xe=10;36&gt;xe;++xe)Ke[we++]=xe;for(we=&quot;A&quot;.charCodeAt(0),xe=10;36&gt;xe;++xe)Ke[we++]=xe;A.prototype.convert=U,A.prototype.revert=O,A.prototype.reduce=V,A.prototype.mulTo=N,A.prototype.sqrTo=J,P.prototype.convert=M,P.prototype.revert=L,P.prototype.reduce=q,P.prototype.mulTo=H,P.prototype.sqrTo=C,e.prototype.copyTo=a,e.prototype.fromInt=u,e.prototype.fromString=f,e.prototype.clamp=p,e.prototype.dlShiftTo=T,e.prototype.drShiftTo=S,e.prototype.lShiftTo=R,e.prototype.rShiftTo=E,e.prototype.subTo=D,e.prototype.multiplyTo=w,e.prototype.squareTo=x,e.prototype.divRemTo=B,e.prototype.invDigit=I,e.prototype.isEven=j,e.prototype.exp=k,e.prototype.toString=l,e.prototype.negate=d,e.prototype.abs=g,e.prototype.compareTo=m,e.prototype.bitLength=b,e.prototype.mod=K,e.prototype.modPowInt=F,e.ZERO=c(0),e.ONE=c(1),It.prototype.convert=Pt,It.prototype.revert=Pt,It.prototype.mulTo=Mt,It.prototype.sqrTo=Lt,jt.prototype.convert=kt,jt.prototype.revert=Ft,jt.prototype.reduce=_t,jt.prototype.mulTo=Zt,jt.prototype.sqrTo=zt;var Ae=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ue=(1&lt;&lt;26)/Ae[Ae.length-1];e.prototype.chunkSize=$,e.prototype.toRadix=W,e.prototype.fromRadix=Q,e.prototype.fromNumber=X,e.prototype.bitwiseTo=st,e.prototype.changeBit=St,e.prototype.addTo=wt,e.prototype.dMultiply=Nt,e.prototype.dAddOffset=Jt,e.prototype.multiplyLowerTo=Ct,e.prototype.multiplyUpperTo=Ht,e.prototype.modInt=Yt,e.prototype.millerRabin=Xt,e.prototype.clone=_,e.prototype.intValue=z,e.prototype.byteValue=Z,e.prototype.shortValue=G,e.prototype.signum=Y,e.prototype.toByteArray=tt,e.prototype.equals=et,e.prototype.min=it,e.prototype.max=rt,e.prototype.and=ot,e.prototype.or=at,e.prototype.xor=ct,e.prototype.andNot=pt,e.prototype.not=lt,e.prototype.shiftLeft=dt,e.prototype.shiftRight=gt,e.prototype.getLowestSetBit=yt,e.prototype.bitCount=bt,e.prototype.testBit=Tt,e.prototype.setBit=Rt,e.prototype.clearBit=Et,e.prototype.flipBit=Dt,e.prototype.add=xt,e.prototype.subtract=Bt,e.prototype.multiply=Kt,e.prototype.divide=Ut,e.prototype.remainder=Ot,e.prototype.divideAndRemainder=Vt,e.prototype.modPow=Gt,e.prototype.modInverse=Wt,e.prototype.pow=qt,e.prototype.gcd=$t,e.prototype.isProbablePrime=Qt,e.prototype.square=At,te.prototype.init=ee,te.prototype.next=ie;var Oe,Ve,Ne,Je=256;if(null==Ve)&#123;Ve=new Array,Ne=0;var Ie;if(window.crypto&amp;&amp;window.crypto.getRandomValues)&#123;var Pe=new Uint32Array(256);for(window.crypto.getRandomValues(Pe),Ie=0;Ie&lt;Pe.length;++Ie)Ve[Ne++]=255&amp;Pe[Ie]&#125;var Me=function(t)&#123;if(this.count=this.count||0,this.count&gt;=256||Ne&gt;=Je)return void(window.removeEventListener?window.removeEventListener(&quot;mousemove&quot;,Me,!1):window.detachEvent&amp;&amp;window.detachEvent(&quot;onmousemove&quot;,Me));try&#123;var e=t.x+t.y;Ve[Ne++]=255&amp;e,this.count+=1&#125;catch(i)&#123;&#125;&#125;;window.addEventListener?window.addEventListener(&quot;mousemove&quot;,Me,!1):window.attachEvent&amp;&amp;window.attachEvent(&quot;onmousemove&quot;,Me)&#125;oe.prototype.nextBytes=ne,ue.prototype.doPublic=fe,ue.prototype.setPublic=ce,ue.prototype.encrypt=pe,ue.prototype.doPrivate=ye,ue.prototype.setPrivate=de,ue.prototype.setPrivateEx=ge,ue.prototype.generate=me,ue.prototype.decrypt=ve,</span><br><span class="line">// Copyright (c) 2011  Kevin M Burns Jr.</span><br><span class="line">// All Rights Reserved.</span><br><span class="line">// See &quot;LICENSE&quot; for details.</span><br><span class="line">//</span><br><span class="line">// Extension to jsbn which adds facilities for asynchronous RSA key generation</span><br><span class="line">// Primarily created to avoid execution timeout on mobile devices</span><br><span class="line">//</span><br><span class="line">// http://www-cs-students.stanford.edu/~tjw/jsbn/</span><br><span class="line">//</span><br><span class="line">// ---</span><br><span class="line">function()&#123;var t=function(t,r,s)&#123;var n=new oe,o=t&gt;&gt;1;this.e=parseInt(r,16);var h=new e(r,16),a=this,u=function()&#123;var r=function()&#123;if(a.p.compareTo(a.q)&lt;=0)&#123;var t=a.p;a.p=a.q,a.q=t&#125;var i=a.p.subtract(e.ONE),r=a.q.subtract(e.ONE),n=i.multiply(r);0==n.gcd(h).compareTo(e.ONE)?(a.n=a.p.multiply(a.q),a.d=h.modInverse(n),a.dmp1=a.d.mod(i),a.dmq1=a.d.mod(r),a.coeff=a.q.modInverse(a.p),setTimeout(function()&#123;s()&#125;,0)):setTimeout(u,0)&#125;,c=function()&#123;a.q=i(),a.q.fromNumberAsync(o,1,n,function()&#123;a.q.subtract(e.ONE).gcda(h,function(t)&#123;0==t.compareTo(e.ONE)&amp;&amp;a.q.isProbablePrime(10)?setTimeout(r,0):setTimeout(c,0)&#125;)&#125;)&#125;,f=function()&#123;a.p=i(),a.p.fromNumberAsync(t-o,1,n,function()&#123;a.p.subtract(e.ONE).gcda(h,function(t)&#123;0==t.compareTo(e.ONE)&amp;&amp;a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(f,0)&#125;)&#125;)&#125;;setTimeout(f,0)&#125;;setTimeout(u,0)&#125;;ue.prototype.generateAsync=t;var r=function(t,e)&#123;var i=this.s&lt;0?this.negate():this.clone(),r=t.s&lt;0?t.negate():t.clone();if(i.compareTo(r)&lt;0)&#123;var s=i;i=r,r=s&#125;var n=i.getLowestSetBit(),o=r.getLowestSetBit();if(0&gt;o)return void e(i);o&gt;n&amp;&amp;(o=n),o&gt;0&amp;&amp;(i.rShiftTo(o,i),r.rShiftTo(o,r));var h=function()&#123;(n=i.getLowestSetBit())&gt;0&amp;&amp;i.rShiftTo(n,i),(n=r.getLowestSetBit())&gt;0&amp;&amp;r.rShiftTo(n,r),i.compareTo(r)&gt;=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r)),i.signum()&gt;0?setTimeout(h,0):(o&gt;0&amp;&amp;r.lShiftTo(o,r),setTimeout(function()&#123;e(r)&#125;,0))&#125;;setTimeout(h,10)&#125;;e.prototype.gcda=r;var s=function(t,i,r,s)&#123;if(&quot;number&quot;==typeof i)if(2&gt;t)this.fromInt(1);else&#123;this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ht,this),this.isEven()&amp;&amp;this.dAddOffset(1,0);var n=this,o=function()&#123;n.dAddOffset(2,0),n.bitLength()&gt;t&amp;&amp;n.subTo(e.ONE.shiftLeft(t-1),n),n.isProbablePrime(i)?setTimeout(function()&#123;s()&#125;,0):setTimeout(o,0)&#125;;setTimeout(o,0)&#125;else&#123;var h=new Array,a=7&amp;t;h.length=(t&gt;&gt;3)+1,i.nextBytes(h),a&gt;0?h[0]&amp;=(1&lt;&lt;a)-1:h[0]=0,this.fromString(h,256)&#125;&#125;;e.prototype.fromNumberAsync=s&#125;();var Le=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;,qe=&quot;=&quot;,Ce=Ce||&#123;&#125;;Ce.env=Ce.env||&#123;&#125;;var He=Ce,je=Object.prototype,ke=&quot;[object Function]&quot;,Fe=[&quot;toString&quot;,&quot;valueOf&quot;];Ce.env.parseUA=function(t)&#123;var e,i=function(t)&#123;var e=0;return parseFloat(t.replace(/\./g,function()&#123;return 1==e++?&quot;&quot;:&quot;.&quot;&#125;))&#125;,r=navigator,s=&#123;ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:r&amp;&amp;r.cajaVersion,secure:!1,os:null&#125;,n=t||navigator&amp;&amp;navigator.userAgent,o=window&amp;&amp;window.location,h=o&amp;&amp;o.href;return s.secure=h&amp;&amp;0===h.toLowerCase().indexOf(&quot;https&quot;),n&amp;&amp;(/windows|win32/i.test(n)?s.os=&quot;windows&quot;:/macintosh/i.test(n)?s.os=&quot;macintosh&quot;:/rhino/i.test(n)&amp;&amp;(s.os=&quot;rhino&quot;),/KHTML/.test(n)&amp;&amp;(s.webkit=1),e=n.match(/AppleWebKit\/([^\s]*)/),e&amp;&amp;e[1]&amp;&amp;(s.webkit=i(e[1]),/ Mobile\//.test(n)?(s.mobile=&quot;Apple&quot;,e=n.match(/OS ([^\s]*)/),e&amp;&amp;e[1]&amp;&amp;(e=i(e[1].replace(&quot;_&quot;,&quot;.&quot;))),s.ios=e,s.ipad=s.ipod=s.iphone=0,e=n.match(/iPad|iPod|iPhone/),e&amp;&amp;e[0]&amp;&amp;(s[e[0].toLowerCase()]=s.ios)):(e=n.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&amp;&amp;(s.mobile=e[0]),/webOS/.test(n)&amp;&amp;(s.mobile=&quot;WebOS&quot;,e=n.match(/webOS\/([^\s]*);/),e&amp;&amp;e[1]&amp;&amp;(s.webos=i(e[1]))),/ Android/.test(n)&amp;&amp;(s.mobile=&quot;Android&quot;,e=n.match(/Android ([^\s]*);/),e&amp;&amp;e[1]&amp;&amp;(s.android=i(e[1])))),e=n.match(/Chrome\/([^\s]*)/),e&amp;&amp;e[1]?s.chrome=i(e[1]):(e=n.match(/AdobeAIR\/([^\s]*)/),e&amp;&amp;(s.air=e[0]))),s.webkit||(e=n.match(/Opera[\s\/]([^\s]*)/),e&amp;&amp;e[1]?(s.opera=i(e[1]),e=n.match(/Version\/([^\s]*)/),e&amp;&amp;e[1]&amp;&amp;(s.opera=i(e[1])),e=n.match(/Opera Mini[^;]*/),e&amp;&amp;(s.mobile=e[0])):(e=n.match(/MSIE\s([^;]*)/),e&amp;&amp;e[1]?s.ie=i(e[1]):(e=n.match(/Gecko\/([^\s]*)/),e&amp;&amp;(s.gecko=1,e=n.match(/rv:([^\s\)]*)/),e&amp;&amp;e[1]&amp;&amp;(s.gecko=i(e[1]))))))),s&#125;,Ce.env.ua=Ce.env.parseUA(),Ce.isFunction=function(t)&#123;return&quot;function&quot;==typeof t||je.toString.apply(t)===ke&#125;,Ce._IEEnumFix=Ce.env.ua.ie?function(t,e)&#123;var i,r,s;for(i=0;i&lt;Fe.length;i+=1)r=Fe[i],s=e[r],He.isFunction(s)&amp;&amp;s!=je[r]&amp;&amp;(t[r]=s)&#125;:function()&#123;&#125;,Ce.extend=function(t,e,i)&#123;if(!e||!t)throw new Error(&quot;extend failed, please check that all dependencies are included.&quot;);var r,s=function()&#123;&#125;;if(s.prototype=e.prototype,t.prototype=new s,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==je.constructor&amp;&amp;(e.prototype.constructor=e),i)&#123;for(r in i)He.hasOwnProperty(i,r)&amp;&amp;(t.prototype[r]=i[r]);He._IEEnumFix(t.prototype,i)&#125;&#125;,/*</span><br><span class="line"> * asn1.js - ASN.1 DER encoder classes</span><br><span class="line"> *</span><br><span class="line"> * Copyright (c) 2013 Kenji Urushima (kenji.urushima@gmail.com)</span><br><span class="line"> *</span><br><span class="line"> * This software is licensed under the terms of the MIT License.</span><br><span class="line"> * http://kjur.github.com/jsrsasign/license</span><br><span class="line"> *</span><br><span class="line"> * The above copyright and license notice shall be </span><br><span class="line"> * included in all copies or substantial portions of the Software.</span><br><span class="line"> */</span><br><span class="line">/**</span><br><span class="line"> * @fileOverview</span><br><span class="line"> * @name asn1-1.0.js</span><br><span class="line"> * @author Kenji Urushima kenji.urushima@gmail.com</span><br><span class="line"> * @version 1.0.2 (2013-May-30)</span><br><span class="line"> * @since 2.1</span><br><span class="line"> * @license &lt;a href=&quot;http://kjur.github.io/jsrsasign/license/&quot;&gt;MIT License&lt;/a&gt;</span><br><span class="line"> */</span><br><span class="line">&quot;undefined&quot;!=typeof KJUR&amp;&amp;KJUR||(KJUR=&#123;&#125;),&quot;undefined&quot;!=typeof KJUR.asn1&amp;&amp;KJUR.asn1||(KJUR.asn1=&#123;&#125;),KJUR.asn1.ASN1Util=new function()&#123;this.integerToByteHex=function(t)&#123;var e=t.toString(16);return e.length%2==1&amp;&amp;(e=&quot;0&quot;+e),e&#125;,this.bigIntToMinTwosComplementsHex=function(t)&#123;var i=t.toString(16);if(&quot;-&quot;!=i.substr(0,1))i.length%2==1?i=&quot;0&quot;+i:i.match(/^[0-7]/)||(i=&quot;00&quot;+i);else&#123;var r=i.substr(1),s=r.length;s%2==1?s+=1:i.match(/^[0-7]/)||(s+=2);for(var n=&quot;&quot;,o=0;s&gt;o;o++)n+=&quot;f&quot;;var h=new e(n,16),a=h.xor(t).add(e.ONE);i=a.toString(16).replace(/^-/,&quot;&quot;)&#125;return i&#125;,this.getPEMStringFromHex=function(t,e)&#123;var i=CryptoJS.enc.Hex.parse(t),r=CryptoJS.enc.Base64.stringify(i),s=r.replace(/(.&#123;64&#125;)/g,&quot;$1\r\n&quot;);return s=s.replace(/\r\n$/,&quot;&quot;),&quot;-----BEGIN &quot;+e+&quot;-----\r\n&quot;+s+&quot;\r\n-----END &quot;+e+&quot;-----\r\n&quot;&#125;&#125;,KJUR.asn1.ASN1Object=function()&#123;var t=&quot;&quot;;this.getLengthHexFromValue=function()&#123;if(&quot;undefined&quot;==typeof this.hV||null==this.hV)throw&quot;this.hV is null or undefined.&quot;;if(this.hV.length%2==1)throw&quot;value hex must be even length: n=&quot;+t.length+&quot;,v=&quot;+this.hV;var e=this.hV.length/2,i=e.toString(16);if(i.length%2==1&amp;&amp;(i=&quot;0&quot;+i),128&gt;e)return i;var r=i.length/2;if(r&gt;15)throw&quot;ASN.1 length too long to represent by 8x: n = &quot;+e.toString(16);var s=128+r;return s.toString(16)+i&#125;,this.getEncodedHex=function()&#123;return(null==this.hTLV||this.isModified)&amp;&amp;(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV&#125;,this.getValueHex=function()&#123;return this.getEncodedHex(),this.hV&#125;,this.getFreshValueHex=function()&#123;return&quot;&quot;&#125;&#125;,KJUR.asn1.DERAbstractString=function(t)&#123;KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function()&#123;return this.s&#125;,this.setString=function(t)&#123;this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)&#125;,this.setStringHex=function(t)&#123;this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t&#125;,this.getFreshValueHex=function()&#123;return this.hV&#125;,&quot;undefined&quot;!=typeof t&amp;&amp;(&quot;undefined&quot;!=typeof t.str?this.setString(t.str):&quot;undefined&quot;!=typeof t.hex&amp;&amp;this.setStringHex(t.hex))&#125;,Ce.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(t)&#123;KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t)&#123;utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e&#125;,this.formatDate=function(t,e)&#123;var i=this.zeroPadding,r=this.localDateToUTC(t),s=String(r.getFullYear());&quot;utc&quot;==e&amp;&amp;(s=s.substr(2,2));var n=i(String(r.getMonth()+1),2),o=i(String(r.getDate()),2),h=i(String(r.getHours()),2),a=i(String(r.getMinutes()),2),u=i(String(r.getSeconds()),2);return s+n+o+h+a+u+&quot;Z&quot;&#125;,this.zeroPadding=function(t,e)&#123;return t.length&gt;=e?t:new Array(e-t.length+1).join(&quot;0&quot;)+t&#125;,this.getString=function()&#123;return this.s&#125;,this.setString=function(t)&#123;this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)&#125;,this.setByDateValue=function(t,e,i,r,s,n)&#123;var o=new Date(Date.UTC(t,e-1,i,r,s,n,0));this.setByDate(o)&#125;,this.getFreshValueHex=function()&#123;return this.hV&#125;&#125;,Ce.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(t)&#123;KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t)&#123;this.hTLV=null,this.isModified=!0,this.asn1Array=t&#125;,this.appendASN1Object=function(t)&#123;this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)&#125;,this.asn1Array=new Array,&quot;undefined&quot;!=typeof t&amp;&amp;&quot;undefined&quot;!=typeof t.array&amp;&amp;(this.asn1Array=t.array)&#125;,Ce.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function()&#123;KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT=&quot;01&quot;,this.hTLV=&quot;0101ff&quot;&#125;,Ce.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(t)&#123;KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT=&quot;02&quot;,this.setByBigInteger=function(t)&#123;this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)&#125;,this.setByInteger=function(t)&#123;var i=new e(String(t),10);this.setByBigInteger(i)&#125;,this.setValueHex=function(t)&#123;this.hV=t&#125;,this.getFreshValueHex=function()&#123;return this.hV&#125;,&quot;undefined&quot;!=typeof t&amp;&amp;(&quot;undefined&quot;!=typeof t.bigint?this.setByBigInteger(t.bigint):&quot;undefined&quot;!=typeof t[&quot;int&quot;]?this.setByInteger(t[&quot;int&quot;]):&quot;undefined&quot;!=typeof t.hex&amp;&amp;this.setValueHex(t.hex))&#125;,Ce.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(t)&#123;KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT=&quot;03&quot;,this.setHexValueIncludingUnusedBits=function(t)&#123;this.hTLV=null,this.isModified=!0,this.hV=t&#125;,this.setUnusedBitsAndHexValue=function(t,e)&#123;if(0&gt;t||t&gt;7)throw&quot;unused bits shall be from 0 to 7: u = &quot;+t;var i=&quot;0&quot;+t;this.hTLV=null,this.isModified=!0,this.hV=i+e&#125;,this.setByBinaryString=function(t)&#123;t=t.replace(/0+$/,&quot;&quot;);var e=8-t.length%8;8==e&amp;&amp;(e=0);for(var i=0;e&gt;=i;i++)t+=&quot;0&quot;;for(var r=&quot;&quot;,i=0;i&lt;t.length-1;i+=8)&#123;var s=t.substr(i,8),n=parseInt(s,2).toString(16);1==n.length&amp;&amp;(n=&quot;0&quot;+n),r+=n&#125;this.hTLV=null,this.isModified=!0,this.hV=&quot;0&quot;+e+r&#125;,this.setByBooleanArray=function(t)&#123;for(var e=&quot;&quot;,i=0;i&lt;t.length;i++)e+=1==t[i]?&quot;1&quot;:&quot;0&quot;;this.setByBinaryString(e)&#125;,this.newFalseArray=function(t)&#123;for(var e=new Array(t),i=0;t&gt;i;i++)e[i]=!1;return e&#125;,this.getFreshValueHex=function()&#123;return this.hV&#125;,&quot;undefined&quot;!=typeof t&amp;&amp;(&quot;undefined&quot;!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):&quot;undefined&quot;!=typeof t.bin?this.setByBinaryString(t.bin):&quot;undefined&quot;!=typeof t.array&amp;&amp;this.setByBooleanArray(t.array))&#125;,Ce.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(t)&#123;KJUR.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT=&quot;04&quot;&#125;,Ce.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function()&#123;KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT=&quot;05&quot;,this.hTLV=&quot;0500&quot;&#125;,Ce.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(t)&#123;var i=function(t)&#123;var e=t.toString(16);return 1==e.length&amp;&amp;(e=&quot;0&quot;+e),e&#125;,r=function(t)&#123;var r=&quot;&quot;,s=new e(t,10),n=s.toString(2),o=7-n.length%7;7==o&amp;&amp;(o=0);for(var h=&quot;&quot;,a=0;o&gt;a;a++)h+=&quot;0&quot;;n=h+n;for(var a=0;a&lt;n.length-1;a+=7)&#123;var u=n.substr(a,7);a!=n.length-7&amp;&amp;(u=&quot;1&quot;+u),r+=i(parseInt(u,2))&#125;return r&#125;;KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT=&quot;06&quot;,this.setValueHex=function(t)&#123;this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t&#125;,this.setValueOidString=function(t)&#123;if(!t.match(/^[0-9.]+$/))throw&quot;malformed oid string: &quot;+t;var e=&quot;&quot;,s=t.split(&quot;.&quot;),n=40*parseInt(s[0])+parseInt(s[1]);e+=i(n),s.splice(0,2);for(var o=0;o&lt;s.length;o++)e+=r(s[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e&#125;,this.setValueName=function(t)&#123;if(&quot;undefined&quot;==typeof KJUR.asn1.x509.OID.name2oidList[t])throw&quot;DERObjectIdentifier oidName undefined: &quot;+t;var e=KJUR.asn1.x509.OID.name2oidList[t];this.setValueOidString(e)&#125;,this.getFreshValueHex=function()&#123;return this.hV&#125;,&quot;undefined&quot;!=typeof t&amp;&amp;(&quot;undefined&quot;!=typeof t.oid?this.setValueOidString(t.oid):&quot;undefined&quot;!=typeof t.hex?this.setValueHex(t.hex):&quot;undefined&quot;!=typeof t.name&amp;&amp;this.setValueName(t.name))&#125;,Ce.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(t)&#123;KJUR.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT=&quot;0c&quot;&#125;,Ce.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(t)&#123;KJUR.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT=&quot;12&quot;&#125;,Ce.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(t)&#123;KJUR.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT=&quot;13&quot;&#125;,Ce.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(t)&#123;KJUR.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT=&quot;14&quot;&#125;,Ce.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(t)&#123;KJUR.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT=&quot;16&quot;&#125;,Ce.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(t)&#123;KJUR.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT=&quot;17&quot;,this.setByDate=function(t)&#123;this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,&quot;utc&quot;),this.hV=stohex(this.s)&#125;,&quot;undefined&quot;!=typeof t&amp;&amp;(&quot;undefined&quot;!=typeof t.str?this.setString(t.str):&quot;undefined&quot;!=typeof t.hex?this.setStringHex(t.hex):&quot;undefined&quot;!=typeof t.date&amp;&amp;this.setByDate(t.date))&#125;,Ce.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(t)&#123;KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT=&quot;18&quot;,this.setByDate=function(t)&#123;this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,&quot;gen&quot;),this.hV=stohex(this.s)&#125;,&quot;undefined&quot;!=typeof t&amp;&amp;(&quot;undefined&quot;!=typeof t.str?this.setString(t.str):&quot;undefined&quot;!=typeof t.hex?this.setStringHex(t.hex):&quot;undefined&quot;!=typeof t.date&amp;&amp;this.setByDate(t.date))&#125;,Ce.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(t)&#123;KJUR.asn1.DERSequence.superclass.constructor.call(this,t),this.hT=&quot;30&quot;,this.getFreshValueHex=function()&#123;for(var t=&quot;&quot;,e=0;e&lt;this.asn1Array.length;e++)&#123;var i=this.asn1Array[e];t+=i.getEncodedHex()&#125;return this.hV=t,this.hV&#125;&#125;,Ce.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(t)&#123;KJUR.asn1.DERSet.superclass.constructor.call(this,t),this.hT=&quot;31&quot;,this.getFreshValueHex=function()&#123;for(var t=new Array,e=0;e&lt;this.asn1Array.length;e++)&#123;var i=this.asn1Array[e];t.push(i.getEncodedHex())&#125;return t.sort(),this.hV=t.join(&quot;&quot;),this.hV&#125;&#125;,Ce.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(t)&#123;KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT=&quot;a0&quot;,this.hV=&quot;&quot;,this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,i)&#123;this.hT=e,this.isExplicit=t,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)&#125;,this.getFreshValueHex=function()&#123;return this.hV&#125;,&quot;undefined&quot;!=typeof t&amp;&amp;(&quot;undefined&quot;!=typeof t.tag&amp;&amp;(this.hT=t.tag),&quot;undefined&quot;!=typeof t.explicit&amp;&amp;(this.isExplicit=t.explicit),&quot;undefined&quot;!=typeof t.obj&amp;&amp;(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))&#125;,Ce.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),</span><br><span class="line">// Copyright (c) 2008-2013 Lapo Luchini &lt;lapo@lapo.it&gt;</span><br><span class="line">// copyright notice and this permission notice appear in all copies.</span><br><span class="line">// </span><br><span class="line">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span><br><span class="line">// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span><br><span class="line">// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span><br><span class="line">// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span><br><span class="line">// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span><br><span class="line">// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span><br><span class="line">// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span><br><span class="line">function(t)&#123;&quot;use strict&quot;;var e,i=&#123;&#125;;i.decode=function(i)&#123;var r;if(e===t)&#123;var s=&quot;0123456789ABCDEF&quot;,n=&quot; \f\n\r	 \u2028\u2029&quot;;for(e=[],r=0;16&gt;r;++r)e[s.charAt(r)]=r;for(s=s.toLowerCase(),r=10;16&gt;r;++r)e[s.charAt(r)]=r;for(r=0;r&lt;n.length;++r)e[n.charAt(r)]=-1&#125;var o=[],h=0,a=0;for(r=0;r&lt;i.length;++r)&#123;var u=i.charAt(r);if(&quot;=&quot;==u)break;if(u=e[u],-1!=u)&#123;if(u===t)throw&quot;Illegal character at offset &quot;+r;h|=u,++a&gt;=2?(o[o.length]=h,h=0,a=0):h&lt;&lt;=4&#125;&#125;if(a)throw&quot;Hex encoding incomplete: 4 bits missing&quot;;return o&#125;,window.Hex=i&#125;(),</span><br><span class="line">// Copyright (c) 2008-2013 Lapo Luchini &lt;lapo@lapo.it&gt;</span><br><span class="line">// copyright notice and this permission notice appear in all copies.</span><br><span class="line">// </span><br><span class="line">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span><br><span class="line">// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span><br><span class="line">// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span><br><span class="line">// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span><br><span class="line">// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span><br><span class="line">// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span><br><span class="line">// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span><br><span class="line">function(t)&#123;&quot;use strict&quot;;var e,i=&#123;&#125;;i.decode=function(i)&#123;var r;if(e===t)&#123;var s=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;,n=&quot;= \f\n\r	 \u2028\u2029&quot;;for(e=[],r=0;64&gt;r;++r)e[s.charAt(r)]=r;for(r=0;r&lt;n.length;++r)e[n.charAt(r)]=-1&#125;var o=[],h=0,a=0;for(r=0;r&lt;i.length;++r)&#123;var u=i.charAt(r);if(&quot;=&quot;==u)break;if(u=e[u],-1!=u)&#123;if(u===t)throw&quot;Illegal character at offset &quot;+r;h|=u,++a&gt;=4?(o[o.length]=h&gt;&gt;16,o[o.length]=h&gt;&gt;8&amp;255,o[o.length]=255&amp;h,h=0,a=0):h&lt;&lt;=6&#125;&#125;switch(a)&#123;case 1:throw&quot;Base64 encoding incomplete: at least 2 bits missing&quot;;case 2:o[o.length]=h&gt;&gt;10;break;case 3:o[o.length]=h&gt;&gt;16,o[o.length]=h&gt;&gt;8&amp;255&#125;return o&#125;,i.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,i.unarmor=function(t)&#123;var e=i.re.exec(t);if(e)if(e[1])t=e[1];else&#123;if(!e[2])throw&quot;RegExp out of sync&quot;;t=e[2]&#125;return i.decode(t)&#125;,window.Base64=i&#125;(),</span><br><span class="line">// Copyright (c) 2008-2013 Lapo Luchini &lt;lapo@lapo.it&gt;</span><br><span class="line">// copyright notice and this permission notice appear in all copies.</span><br><span class="line">// </span><br><span class="line">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span><br><span class="line">// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span><br><span class="line">// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span><br><span class="line">// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span><br><span class="line">// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span><br><span class="line">// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span><br><span class="line">// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span><br><span class="line">function(t)&#123;&quot;use strict&quot;;function e(t,i)&#123;t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=i)&#125;function i(t,e,i,r,s)&#123;this.stream=t,this.header=e,this.length=i,this.tag=r,this.sub=s&#125;var r=100,s=&quot;…&quot;,n=&#123;tag:function(t,e)&#123;var i=document.createElement(t);return i.className=e,i&#125;,text:function(t)&#123;return document.createTextNode(t)&#125;&#125;;e.prototype.get=function(e)&#123;if(e===t&amp;&amp;(e=this.pos++),e&gt;=this.enc.length)throw&quot;Requesting byte offset &quot;+e+&quot; on a stream of length &quot;+this.enc.length;return this.enc[e]&#125;,e.prototype.hexDigits=&quot;0123456789ABCDEF&quot;,e.prototype.hexByte=function(t)&#123;return this.hexDigits.charAt(t&gt;&gt;4&amp;15)+this.hexDigits.charAt(15&amp;t)&#125;,e.prototype.hexDump=function(t,e,i)&#123;for(var r=&quot;&quot;,s=t;e&gt;s;++s)if(r+=this.hexByte(this.get(s)),i!==!0)switch(15&amp;s)&#123;case 7:r+=&quot;  &quot;;break;case 15:r+=&quot;\n&quot;;break;default:r+=&quot; &quot;&#125;return r&#125;,e.prototype.parseStringISO=function(t,e)&#123;for(var i=&quot;&quot;,r=t;e&gt;r;++r)i+=String.fromCharCode(this.get(r));return i&#125;,e.prototype.parseStringUTF=function(t,e)&#123;for(var i=&quot;&quot;,r=t;e&gt;r;)&#123;var s=this.get(r++);i+=128&gt;s?String.fromCharCode(s):s&gt;191&amp;&amp;224&gt;s?String.fromCharCode((31&amp;s)&lt;&lt;6|63&amp;this.get(r++)):String.fromCharCode((15&amp;s)&lt;&lt;12|(63&amp;this.get(r++))&lt;&lt;6|63&amp;this.get(r++))&#125;return i&#125;,e.prototype.parseStringBMP=function(t,e)&#123;for(var i=&quot;&quot;,r=t;e&gt;r;r+=2)&#123;var s=this.get(r),n=this.get(r+1);i+=String.fromCharCode((s&lt;&lt;8)+n)&#125;return i&#125;,e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d&#123;1,3&#125;))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(t,e)&#123;var i=this.parseStringISO(t,e),r=this.reTime.exec(i);return r?(i=r[1]+&quot;-&quot;+r[2]+&quot;-&quot;+r[3]+&quot; &quot;+r[4],r[5]&amp;&amp;(i+=&quot;:&quot;+r[5],r[6]&amp;&amp;(i+=&quot;:&quot;+r[6],r[7]&amp;&amp;(i+=&quot;.&quot;+r[7]))),r[8]&amp;&amp;(i+=&quot; UTC&quot;,&quot;Z&quot;!=r[8]&amp;&amp;(i+=r[8],r[9]&amp;&amp;(i+=&quot;:&quot;+r[9]))),i):&quot;Unrecognized time: &quot;+i&#125;,e.prototype.parseInteger=function(t,e)&#123;var i=e-t;if(i&gt;4)&#123;i&lt;&lt;=3;var r=this.get(t);if(0===r)i-=8;else for(;128&gt;r;)r&lt;&lt;=1,--i;return&quot;(&quot;+i+&quot; bit)&quot;&#125;for(var s=0,n=t;e&gt;n;++n)s=s&lt;&lt;8|this.get(n);return s&#125;,e.prototype.parseBitString=function(t,e)&#123;var i=this.get(t),r=(e-t-1&lt;&lt;3)-i,s=&quot;(&quot;+r+&quot; bit)&quot;;if(20&gt;=r)&#123;var n=i;s+=&quot; &quot;;for(var o=e-1;o&gt;t;--o)&#123;for(var h=this.get(o),a=n;8&gt;a;++a)s+=h&gt;&gt;a&amp;1?&quot;1&quot;:&quot;0&quot;;n=0&#125;&#125;return s&#125;,e.prototype.parseOctetString=function(t,e)&#123;var i=e-t,n=&quot;(&quot;+i+&quot; byte) &quot;;i&gt;r&amp;&amp;(e=t+r);for(var o=t;e&gt;o;++o)n+=this.hexByte(this.get(o));return i&gt;r&amp;&amp;(n+=s),n&#125;,e.prototype.parseOID=function(t,e)&#123;for(var i=&quot;&quot;,r=0,s=0,n=t;e&gt;n;++n)&#123;var o=this.get(n);if(r=r&lt;&lt;7|127&amp;o,s+=7,!(128&amp;o))&#123;if(&quot;&quot;===i)&#123;var h=80&gt;r?40&gt;r?0:1:2;i=h+&quot;.&quot;+(r-40*h)&#125;else i+=&quot;.&quot;+(s&gt;=31?&quot;bigint&quot;:r);r=s=0&#125;&#125;return i&#125;,i.prototype.typeName=function()&#123;if(this.tag===t)return&quot;unknown&quot;;var e=this.tag&gt;&gt;6,i=(this.tag&gt;&gt;5&amp;1,31&amp;this.tag);switch(e)&#123;case 0:switch(i)&#123;case 0:return&quot;EOC&quot;;case 1:return&quot;BOOLEAN&quot;;case 2:return&quot;INTEGER&quot;;case 3:return&quot;BIT_STRING&quot;;case 4:return&quot;OCTET_STRING&quot;;case 5:return&quot;NULL&quot;;case 6:return&quot;OBJECT_IDENTIFIER&quot;;case 7:return&quot;ObjectDescriptor&quot;;case 8:return&quot;EXTERNAL&quot;;case 9:return&quot;REAL&quot;;case 10:return&quot;ENUMERATED&quot;;case 11:return&quot;EMBEDDED_PDV&quot;;case 12:return&quot;UTF8String&quot;;case 16:return&quot;SEQUENCE&quot;;case 17:return&quot;SET&quot;;case 18:return&quot;NumericString&quot;;case 19:return&quot;PrintableString&quot;;case 20:return&quot;TeletexString&quot;;case 21:return&quot;VideotexString&quot;;case 22:return&quot;IA5String&quot;;case 23:return&quot;UTCTime&quot;;case 24:return&quot;GeneralizedTime&quot;;case 25:return&quot;GraphicString&quot;;case 26:return&quot;VisibleString&quot;;case 27:return&quot;GeneralString&quot;;case 28:return&quot;UniversalString&quot;;case 30:return&quot;BMPString&quot;;default:return&quot;Universal_&quot;+i.toString(16)&#125;case 1:return&quot;Application_&quot;+i.toString(16);case 2:return&quot;[&quot;+i+&quot;]&quot;;case 3:return&quot;Private_&quot;+i.toString(16)&#125;&#125;,i.prototype.reSeemsASCII=/^[ -~]+$/,i.prototype.content=function()&#123;if(this.tag===t)return null;var e=this.tag&gt;&gt;6,i=31&amp;this.tag,n=this.posContent(),o=Math.abs(this.length);if(0!==e)&#123;if(null!==this.sub)return&quot;(&quot;+this.sub.length+&quot; elem)&quot;;var h=this.stream.parseStringISO(n,n+Math.min(o,r));return this.reSeemsASCII.test(h)?h.substring(0,2*r)+(h.length&gt;2*r?s:&quot;&quot;):this.stream.parseOctetString(n,n+o)&#125;switch(i)&#123;case 1:return 0===this.stream.get(n)?&quot;false&quot;:&quot;true&quot;;case 2:return this.stream.parseInteger(n,n+o);case 3:return this.sub?&quot;(&quot;+this.sub.length+&quot; elem)&quot;:this.stream.parseBitString(n,n+o);case 4:return this.sub?&quot;(&quot;+this.sub.length+&quot; elem)&quot;:this.stream.parseOctetString(n,n+o);case 6:return this.stream.parseOID(n,n+o);case 16:case 17:return&quot;(&quot;+this.sub.length+&quot; elem)&quot;;case 12:return this.stream.parseStringUTF(n,n+o);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(n,n+o);case 30:return this.stream.parseStringBMP(n,n+o);case 23:case 24:return this.stream.parseTime(n,n+o)&#125;return null&#125;,i.prototype.toString=function()&#123;return this.typeName()+&quot;@&quot;+this.stream.pos+&quot;[header:&quot;+this.header+&quot;,length:&quot;+this.length+&quot;,sub:&quot;+(null===this.sub?&quot;null&quot;:this.sub.length)+&quot;]&quot;&#125;,i.prototype.print=function(e)&#123;if(e===t&amp;&amp;(e=&quot;&quot;),document.writeln(e+this),null!==this.sub)&#123;e+=&quot;  &quot;;for(var i=0,r=this.sub.length;r&gt;i;++i)this.sub[i].print(e)&#125;&#125;,i.prototype.toPrettyString=function(e)&#123;e===t&amp;&amp;(e=&quot;&quot;);var i=e+this.typeName()+&quot; @&quot;+this.stream.pos;if(this.length&gt;=0&amp;&amp;(i+=&quot;+&quot;),i+=this.length,32&amp;this.tag?i+=&quot; (constructed)&quot;:3!=this.tag&amp;&amp;4!=this.tag||null===this.sub||(i+=&quot; (encapsulates)&quot;),i+=&quot;\n&quot;,null!==this.sub)&#123;e+=&quot;  &quot;;for(var r=0,s=this.sub.length;s&gt;r;++r)i+=this.sub[r].toPrettyString(e)&#125;return i&#125;,i.prototype.toDOM=function()&#123;var t=n.tag(&quot;div&quot;,&quot;node&quot;);t.asn1=this;var e=n.tag(&quot;div&quot;,&quot;head&quot;),i=this.typeName().replace(/_/g,&quot; &quot;);e.innerHTML=i;var r=this.content();if(null!==r)&#123;r=String(r).replace(/&lt;/g,&quot;&lt;&quot;);var s=n.tag(&quot;span&quot;,&quot;preview&quot;);s.appendChild(n.text(r)),e.appendChild(s)&#125;t.appendChild(e),this.node=t,this.head=e;var o=n.tag(&quot;div&quot;,&quot;value&quot;);if(i=&quot;Offset: &quot;+this.stream.pos+&quot;&lt;br/&gt;&quot;,i+=&quot;Length: &quot;+this.header+&quot;+&quot;,i+=this.length&gt;=0?this.length:-this.length+&quot; (undefined)&quot;,32&amp;this.tag?i+=&quot;&lt;br/&gt;(constructed)&quot;:3!=this.tag&amp;&amp;4!=this.tag||null===this.sub||(i+=&quot;&lt;br/&gt;(encapsulates)&quot;),null!==r&amp;&amp;(i+=&quot;&lt;br/&gt;Value:&lt;br/&gt;&lt;b&gt;&quot;+r+&quot;&lt;/b&gt;&quot;,&quot;object&quot;==typeof oids&amp;&amp;6==this.tag))&#123;var h=oids[r];h&amp;&amp;(h.d&amp;&amp;(i+=&quot;&lt;br/&gt;&quot;+h.d),h.c&amp;&amp;(i+=&quot;&lt;br/&gt;&quot;+h.c),h.w&amp;&amp;(i+=&quot;&lt;br/&gt;(warning!)&quot;))&#125;o.innerHTML=i,t.appendChild(o);var a=n.tag(&quot;div&quot;,&quot;sub&quot;);if(null!==this.sub)for(var u=0,c=this.sub.length;c&gt;u;++u)a.appendChild(this.sub[u].toDOM());return t.appendChild(a),e.onclick=function()&#123;t.className=&quot;node collapsed&quot;==t.className?&quot;node&quot;:&quot;node collapsed&quot;&#125;,t&#125;,i.prototype.posStart=function()&#123;return this.stream.pos&#125;,i.prototype.posContent=function()&#123;return this.stream.pos+this.header&#125;,i.prototype.posEnd=function()&#123;return this.stream.pos+this.header+Math.abs(this.length)&#125;,i.prototype.fakeHover=function(t)&#123;this.node.className+=&quot; hover&quot;,t&amp;&amp;(this.head.className+=&quot; hover&quot;)&#125;,i.prototype.fakeOut=function(t)&#123;var e=/ ?hover/;this.node.className=this.node.className.replace(e,&quot;&quot;),t&amp;&amp;(this.head.className=this.head.className.replace(e,&quot;&quot;))&#125;,i.prototype.toHexDOM_sub=function(t,e,i,r,s)&#123;if(!(r&gt;=s))&#123;var o=n.tag(&quot;span&quot;,e);o.appendChild(n.text(i.hexDump(r,s))),t.appendChild(o)&#125;&#125;,i.prototype.toHexDOM=function(e)&#123;var i=n.tag(&quot;span&quot;,&quot;hex&quot;);if(e===t&amp;&amp;(e=i),this.head.hexNode=i,this.head.onmouseover=function()&#123;this.hexNode.className=&quot;hexCurrent&quot;&#125;,this.head.onmouseout=function()&#123;this.hexNode.className=&quot;hex&quot;&#125;,i.asn1=this,i.onmouseover=function()&#123;var t=!e.selected;t&amp;&amp;(e.selected=this.asn1,this.className=&quot;hexCurrent&quot;),this.asn1.fakeHover(t)&#125;,i.onmouseout=function()&#123;var t=e.selected==this.asn1;this.asn1.fakeOut(t),t&amp;&amp;(e.selected=null,this.className=&quot;hex&quot;)&#125;,this.toHexDOM_sub(i,&quot;tag&quot;,this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(i,this.length&gt;=0?&quot;dlen&quot;:&quot;ulen&quot;,this.stream,this.posStart()+1,this.posContent()),null===this.sub)i.appendChild(n.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length&gt;0)&#123;var r=this.sub[0],s=this.sub[this.sub.length-1];this.toHexDOM_sub(i,&quot;intro&quot;,this.stream,this.posContent(),r.posStart());for(var o=0,h=this.sub.length;h&gt;o;++o)i.appendChild(this.sub[o].toHexDOM(e));this.toHexDOM_sub(i,&quot;outro&quot;,this.stream,s.posEnd(),this.posEnd())&#125;return i&#125;,i.prototype.toHexString=function(t)&#123;return this.stream.hexDump(this.posStart(),this.posEnd(),!0)&#125;,i.decodeLength=function(t)&#123;var e=t.get(),i=127&amp;e;if(i==e)return i;if(i&gt;3)throw&quot;Length over 24 bits not supported at position &quot;+(t.pos-1);if(0===i)return-1;e=0;for(var r=0;i&gt;r;++r)e=e&lt;&lt;8|t.get();return e&#125;,i.hasContent=function(t,r,s)&#123;if(32&amp;t)return!0;if(3&gt;t||t&gt;4)return!1;var n=new e(s);3==t&amp;&amp;n.get();var o=n.get();if(o&gt;&gt;6&amp;1)return!1;try&#123;var h=i.decodeLength(n);return n.pos-s.pos+h==r&#125;catch(a)&#123;return!1&#125;&#125;,i.decode=function(t)&#123;t instanceof e||(t=new e(t,0));var r=new e(t),s=t.get(),n=i.decodeLength(t),o=t.pos-r.pos,h=null;if(i.hasContent(s,n,t))&#123;var a=t.pos;if(3==s&amp;&amp;t.get(),h=[],n&gt;=0)&#123;for(var u=a+n;t.pos&lt;u;)h[h.length]=i.decode(t);if(t.pos!=u)throw&quot;Content size is not correct for container starting at offset &quot;+a&#125;else try&#123;for(;;)&#123;var c=i.decode(t);if(0===c.tag)break;h[h.length]=c&#125;n=a-t.pos&#125;catch(f)&#123;throw&quot;Exception while decoding undefined length content: &quot;+f&#125;&#125;else t.pos+=n;return new i(r,o,n,s,h)&#125;,i.test=function()&#123;for(var t=[&#123;value:[39],expected:39&#125;,&#123;value:[129,201],expected:201&#125;,&#123;value:[131,254,220,186],expected:16702650&#125;],r=0,s=t.length;s&gt;r;++r)&#123;var n=new e(t[r].value,0),o=i.decodeLength(n);o!=t[r].expected&amp;&amp;document.write(&quot;In test[&quot;+r+&quot;] expected &quot;+t[r].expected+&quot; got &quot;+o+&quot;\n&quot;)&#125;&#125;,window.ASN1=i&#125;(),ASN1.prototype.getHexStringValue=function()&#123;var t=this.toHexString(),e=2*this.header,i=2*this.length;return t.substr(e,i)&#125;,ue.prototype.parseKey=function(t)&#123;try&#123;var e=0,i=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,s=r.test(t)?Hex.decode(t):Base64.unarmor(t),n=ASN1.decode(s);if(3===n.sub.length&amp;&amp;(n=n.sub[2].sub[0]),9===n.sub.length)&#123;e=n.sub[1].getHexStringValue(),this.n=he(e,16),i=n.sub[2].getHexStringValue(),this.e=parseInt(i,16);var o=n.sub[3].getHexStringValue();this.d=he(o,16);var h=n.sub[4].getHexStringValue();this.p=he(h,16);var a=n.sub[5].getHexStringValue();this.q=he(a,16);var u=n.sub[6].getHexStringValue();this.dmp1=he(u,16);var c=n.sub[7].getHexStringValue();this.dmq1=he(c,16);var f=n.sub[8].getHexStringValue();this.coeff=he(f,16)&#125;else&#123;if(2!==n.sub.length)return!1;var p=n.sub[1],l=p.sub[0];e=l.sub[0].getHexStringValue(),this.n=he(e,16),i=l.sub[1].getHexStringValue(),this.e=parseInt(i,16)&#125;return!0&#125;catch(d)&#123;return!1&#125;&#125;,ue.prototype.getPrivateBaseKey=function()&#123;var t=&#123;array:[new KJUR.asn1.DERInteger(&#123;&quot;int&quot;:0&#125;),new KJUR.asn1.DERInteger(&#123;bigint:this.n&#125;),new KJUR.asn1.DERInteger(&#123;&quot;int&quot;:this.e&#125;),new KJUR.asn1.DERInteger(&#123;bigint:this.d&#125;),new KJUR.asn1.DERInteger(&#123;bigint:this.p&#125;),new KJUR.asn1.DERInteger(&#123;bigint:this.q&#125;),new KJUR.asn1.DERInteger(&#123;bigint:this.dmp1&#125;),new KJUR.asn1.DERInteger(&#123;bigint:this.dmq1&#125;),new KJUR.asn1.DERInteger(&#123;bigint:this.coeff&#125;)]&#125;,e=new KJUR.asn1.DERSequence(t);return e.getEncodedHex()&#125;,ue.prototype.getPrivateBaseKeyB64=function()&#123;return be(this.getPrivateBaseKey())&#125;,ue.prototype.getPublicBaseKey=function()&#123;var t=&#123;array:[new KJUR.asn1.DERObjectIdentifier(&#123;oid:&quot;1.2.840.113549.1.1.1&quot;&#125;),new KJUR.asn1.DERNull]&#125;,e=new KJUR.asn1.DERSequence(t);t=&#123;array:[new KJUR.asn1.DERInteger(&#123;bigint:this.n&#125;),new KJUR.asn1.DERInteger(&#123;&quot;int&quot;:this.e&#125;)]&#125;;var i=new KJUR.asn1.DERSequence(t);t=&#123;hex:&quot;00&quot;+i.getEncodedHex()&#125;;var r=new KJUR.asn1.DERBitString(t);t=&#123;array:[e,r]&#125;;var s=new KJUR.asn1.DERSequence(t);return s.getEncodedHex()&#125;,ue.prototype.getPublicBaseKeyB64=function()&#123;return be(this.getPublicBaseKey())&#125;,ue.prototype.wordwrap=function(t,e)&#123;if(e=e||64,!t)return t;var i=&quot;(.&#123;1,&quot;+e+&quot;&#125;)( +|$\n?)|(.&#123;1,&quot;+e+&quot;&#125;)&quot;;return t.match(RegExp(i,&quot;g&quot;)).join(&quot;\n&quot;)&#125;,ue.prototype.getPrivateKey=function()&#123;var t=&quot;-----BEGIN RSA PRIVATE KEY-----\n&quot;;return t+=this.wordwrap(this.getPrivateBaseKeyB64())+&quot;\n&quot;,t+=&quot;-----END RSA PRIVATE KEY-----&quot;&#125;,ue.prototype.getPublicKey=function()&#123;var t=&quot;-----BEGIN PUBLIC KEY-----\n&quot;;return t+=this.wordwrap(this.getPublicBaseKeyB64())+&quot;\n&quot;,t+=&quot;-----END PUBLIC KEY-----&quot;&#125;,ue.prototype.hasPublicKeyProperty=function(t)&#123;return t=t||&#123;&#125;,t.hasOwnProperty(&quot;n&quot;)&amp;&amp;t.hasOwnProperty(&quot;e&quot;)&#125;,ue.prototype.hasPrivateKeyProperty=function(t)&#123;return t=t||&#123;&#125;,t.hasOwnProperty(&quot;n&quot;)&amp;&amp;t.hasOwnProperty(&quot;e&quot;)&amp;&amp;t.hasOwnProperty(&quot;d&quot;)&amp;&amp;t.hasOwnProperty(&quot;p&quot;)&amp;&amp;t.hasOwnProperty(&quot;q&quot;)&amp;&amp;t.hasOwnProperty(&quot;dmp1&quot;)&amp;&amp;t.hasOwnProperty(&quot;dmq1&quot;)&amp;&amp;t.hasOwnProperty(&quot;coeff&quot;)&#125;,ue.prototype.parsePropertiesFrom=function(t)&#123;this.n=t.n,this.e=t.e,t.hasOwnProperty(&quot;d&quot;)&amp;&amp;(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)&#125;;var _e=function(t)&#123;ue.call(this),t&amp;&amp;(&quot;string&quot;==typeof t?this.parseKey(t):(this.hasPrivateKeyProperty(t)||this.hasPublicKeyProperty(t))&amp;&amp;this.parsePropertiesFrom(t))&#125;;_e.prototype=new ue,_e.prototype.constructor=_e;var ze=function(t)&#123;t=t||&#123;&#125;,this.default_key_size=parseInt(t.default_key_size)||1024,this.default_public_exponent=t.default_public_exponent||&quot;010001&quot;,this.log=t.log||!1,this.key=null&#125;;ze.prototype.setKey=function(t)&#123;this.log&amp;&amp;this.key&amp;&amp;console.warn(&quot;A key was already set, overriding existing.&quot;),this.key=new _e(t)&#125;,ze.prototype.setPrivateKey=function(t)&#123;this.setKey(t)&#125;,ze.prototype.setPublicKey=function(t)&#123;this.setKey(t)&#125;,ze.prototype.decrypt=function(t)&#123;try&#123;return this.getKey().decrypt(Te(t))&#125;catch(e)&#123;return!1&#125;&#125;,ze.prototype.encrypt=function(t)&#123;try&#123;return be(this.getKey().encrypt(t))&#125;catch(e)&#123;return!1&#125;&#125;,ze.prototype.getKey=function(t)&#123;if(!this.key)&#123;if(this.key=new _e,t&amp;&amp;&quot;[object Function]&quot;===&#123;&#125;.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)&#125;return this.key&#125;,ze.prototype.getPrivateKey=function()&#123;return this.getKey().getPrivateKey()&#125;,ze.prototype.getPrivateKeyB64=function()&#123;return this.getKey().getPrivateBaseKeyB64()&#125;,ze.prototype.getPublicKey=function()&#123;return this.getKey().getPublicKey()&#125;,ze.prototype.getPublicKeyB64=function()&#123;return this.getKey().getPublicBaseKeyB64()&#125;,ze.version=&quot;2.3.1&quot;,t.JSEncrypt=ze&#125;);</span><br><span class="line">//</span><br></pre></td></tr></table></figure>


      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div id="reward-container">
  <div>坚持技术分享，您的支持将鼓励我继续创作！</div>
  <button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">

    
      
      
        
      
      <div style="display: inline-block">
        <img src="/images/wechatpay.jpg" alt="周杰 微信支付">
        <p>微信支付</p>
      </div>
    
      
      
        
      
      <div style="display: inline-block">
        <img src="/images/alipay.jpg" alt="周杰 支付宝">
        <p>支付宝</p>
      </div>
    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/02/21/我的文章/base64编码和解码（JS）/" rel="next" title="base64编码和解码（JS）">
                <i class="fa fa-chevron-left"></i> base64编码和解码（JS）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/16/我的文章/CSS3弹性盒模型/" rel="prev" title="CSS3弹性盒模型">
                CSS3弹性盒模型 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="http://pic1.zhoujie16.cn/20190725175920.png" alt="周杰">
            
              <p class="site-author-name" itemprop="name">周杰</p>
              <div class="site-description motion-element" itemprop="description">没有高深的知识，没有进阶的技巧。只是，万丈高楼平地起，千里之行始于足下，千里长提溃于蚁穴。能把简单的做好就是不简单，你能走多远，不是在于你有多聪明，而是取决于你有多勤奋，共勉。</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">57</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">周杰</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.2.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/affix.js?v=7.2.0"></script>

  <script src="/js/schemes/pisces.js?v=7.2.0"></script>



  
  <script src="/js/scrollspy.js?v=7.2.0"></script>
<script src="/js/post-details.js?v=7.2.0"></script>



  


  <script src="/js/next-boot.js?v=7.2.0"></script>


  

  

  

  
  

<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'FACWrlWQfYlbP4DQNHWwWEEU-9Nh9j0Va',
    appKey: 'v6nHIKG1Dokj9WE70FmH8HWW',
    placeholder: '留个言吧 ~ 😊',
    avatar: 'mp',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: 'zh-cn' || 'zh-cn'
  });
</script>




  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
